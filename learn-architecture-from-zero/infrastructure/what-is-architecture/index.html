<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>了解架构设计 | Reading Notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/reading-notes/favicon.ico">
    <link rel="manifest" href="/reading-notes/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="写点啦!">
    <meta property="og:url" content="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture.html">
    <meta property="og:site_name" content="Reading Notes">
    <meta property="og:title" content="了解架构设计">
    <meta property="og:description" content="了解架构设计 架构设计的思维和程序设计的思维差异很大。架构设计的关键是判断和取舍，程序设计的关键是逻辑和实现。 架构指什么 “架构”这个词大家都很常见，那么： 准确来说架构指的是什么呢？; 架构和框架有什么关系和不同？; 为了回答这些问题，关键在于理解这几个概念： 系统与子系统; 模块与组件; 框架与架构; 系统与子系统 系统 " 系统指由一群有关联的个体组">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Reading Notes">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/reading-notes/assets/css/0.styles.9772cc4e.css" as="style"><link rel="preload" href="/reading-notes/assets/js/app.345870b4.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Layout.783be478.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b90199b.js" as="script"><link rel="preload" href="/reading-notes/assets/js/page-了解架构设计.e6eb2120.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.c1acbf4e.js" as="script"><link rel="preload" href="/reading-notes/assets/js/71.57253716.js" as="script"><link rel="prefetch" href="/reading-notes/assets/js/3.1b77c550.js"><link rel="prefetch" href="/reading-notes/assets/js/72.16da1e8b.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Blog.0802cdff.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Layout.ea688dcf.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-NotFound.c77a49fb.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Slide.6e5e88a9.js"><link rel="prefetch" href="/reading-notes/assets/js/page--25410731.c72f8e99.js"><link rel="prefetch" href="/reading-notes/assets/js/page--3992e0e1.addfe44d.js"><link rel="prefetch" href="/reading-notes/assets/js/page--44a0de64.b6c54115.js"><link rel="prefetch" href="/reading-notes/assets/js/page--4855b8f6.6e451f2a.js"><link rel="prefetch" href="/reading-notes/assets/js/page--5f87f751.ea557d00.js"><link rel="prefetch" href="/reading-notes/assets/js/page--7507ab0e.4efc981e.js"><link rel="prefetch" href="/reading-notes/assets/js/page--ac2b465e.e25f2a9c.js"><link rel="prefetch" href="/reading-notes/assets/js/page--d1e0c466.71ac3d47.js"><link rel="prefetch" href="/reading-notes/assets/js/page-BF算法和RK算法.202ffbff.js"><link rel="prefetch" href="/reading-notes/assets/js/page-DRY原则.52b00526.js"><link rel="prefetch" href="/reading-notes/assets/js/page-KISS.186f2a45.js"><link rel="prefetch" href="/reading-notes/assets/js/page-LOD.e7d60146.js"><link rel="prefetch" href="/reading-notes/assets/js/page-SOLID.1e5e29a2.js"><link rel="prefetch" href="/reading-notes/assets/js/page-Tire树.ec562be4.js"><link rel="prefetch" href="/reading-notes/assets/js/page-YAGNI.57fc7ef2.js"><link rel="prefetch" href="/reading-notes/assets/js/page-专业主义.af16f84a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-为什么要用金字塔原理.e360398a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-为什么需要学习掌握设计模式相关知识.3ffcede7.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二分查找.56a5f810.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二分查找的变形.6066ab81.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二叉查找树.b7b4f127.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二叉树.1e9e72f9.js"><link rel="prefetch" href="/reading-notes/assets/js/page-介绍.3f8b8940.js"><link rel="prefetch" href="/reading-notes/assets/js/page-从0开始学架构.d46de445.js"><link rel="prefetch" href="/reading-notes/assets/js/page-代码整洁之道-程序员的职业素养.f817a408.js"><link rel="prefetch" href="/reading-notes/assets/js/page-冒泡、插入和选择排序.c1e74f17.js"><link rel="prefetch" href="/reading-notes/assets/js/page-分治算法.bd1ca026.js"><link rel="prefetch" href="/reading-notes/assets/js/page-前言.cc66d306.js"><link rel="prefetch" href="/reading-notes/assets/js/page-动态规划.23e5169b.js"><link rel="prefetch" href="/reading-notes/assets/js/page-哈希算法.38d5864c.js"><link rel="prefetch" href="/reading-notes/assets/js/page-回溯算法.89e9886d.js"><link rel="prefetch" href="/reading-notes/assets/js/page-图.1b1a331d.js"><link rel="prefetch" href="/reading-notes/assets/js/page-堆.620e3562.js"><link rel="prefetch" href="/reading-notes/assets/js/page-堆的应用.13d63d71.js"><link rel="prefetch" href="/reading-notes/assets/js/page-实战.136958b1.js"><link rel="prefetch" href="/reading-notes/assets/js/page-归并排序和快速排序.de505601.js"><link rel="prefetch" href="/reading-notes/assets/js/page-手写链表的技巧.9878a3c1.js"><link rel="prefetch" href="/reading-notes/assets/js/page-排序.0afbb37e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-排序优化.6884a7b1.js"><link rel="prefetch" href="/reading-notes/assets/js/page-散列表.e66d5302.js"><link rel="prefetch" href="/reading-notes/assets/js/page-数组.37195c16.js"><link rel="prefetch" href="/reading-notes/assets/js/page-栈.2a1bc434.js"><link rel="prefetch" href="/reading-notes/assets/js/page-桶排序、计数排序和基数排序.71ea81d4.js"><link rel="prefetch" href="/reading-notes/assets/js/page-深度优先和广度优先搜索.a386bf72.js"><link rel="prefetch" href="/reading-notes/assets/js/page-硅谷钢铁侠.977b2e0c.js"><link rel="prefetch" href="/reading-notes/assets/js/page-系统复杂度的来源.b407aa1e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-红黑树.ca04409e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-练习.1020f553.js"><link rel="prefetch" href="/reading-notes/assets/js/page-设计散列表.be637e19.js"><link rel="prefetch" href="/reading-notes/assets/js/page-说不.5e57ec82.js"><link rel="prefetch" href="/reading-notes/assets/js/page-说是.52ab684f.js"><link rel="prefetch" href="/reading-notes/assets/js/page-贪心算法.be36c700.js"><link rel="prefetch" href="/reading-notes/assets/js/page-跳表.ae1321ec.js"><link rel="prefetch" href="/reading-notes/assets/js/page-递归.4927d34e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-重构.8c78b7bb.js"><link rel="prefetch" href="/reading-notes/assets/js/page-金字塔原理.7d1e5168.js"><link rel="prefetch" href="/reading-notes/assets/js/page-链表.ffbac2ef.js"><link rel="prefetch" href="/reading-notes/assets/js/page-队列.df7ba957.js"><link rel="prefetch" href="/reading-notes/assets/js/page-面向对象是什么.920ffeff.js"><link rel="prefetch" href="/reading-notes/assets/js/vendors~photo-swipe.62884794.js">
    <link rel="stylesheet" href="/reading-notes/assets/css/0.styles.9772cc4e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/reading-notes/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">Reading Notes</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title"><!---->
        目录
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🧑🏻‍💻 技术</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/algo/" class="nav-link"><!---->
  数据结构和算法之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-beauty-of-design-patterns/" class="nav-link"><!---->
  设计模式之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/learn-architecture-from-zero/" class="nav-link router-link-active active"><!---->
  从0开始学架构
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-clean-coder/" class="nav-link"><!---->
  代码整洁之道|程序员的职业素养
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🎯 综合能力</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/the-minto-pyramid-principle/" class="nav-link"><!---->
  金字塔原理
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🥤 人物传记</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/elon-musk/" class="nav-link"><!---->
  硅谷钢铁侠
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/niexia/reading-notes" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title"><!---->
      目录
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🧑🏻‍💻 技术</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/algo/" class="nav-link"><!---->
  数据结构和算法之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-beauty-of-design-patterns/" class="nav-link"><!---->
  设计模式之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/learn-architecture-from-zero/" class="nav-link router-link-active active"><!---->
  从0开始学架构
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-clean-coder/" class="nav-link"><!---->
  代码整洁之道|程序员的职业素养
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🎯 综合能力</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/the-minto-pyramid-principle/" class="nav-link"><!---->
  金字塔原理
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🥤 人物传记</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/elon-musk/" class="nav-link"><!---->
  硅谷钢铁侠
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a rel="noopener noreferrer" href="https://github.com/niexia/reading-notes" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">基础架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reading-notes/learn-architecture-from-zero/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/" aria-current="page" class="active sidebar-link">了解架构设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构指什么" class="sidebar-link">架构指什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#系统与子系统" class="sidebar-link heading3">系统与子系统</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#模块与组件" class="sidebar-link heading3">模块与组件</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#框架与架构" class="sidebar-link heading3">框架与架构</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#重新定义架构" class="sidebar-link heading3">重新定义架构</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#总结" class="sidebar-link heading3">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构设计的历史背景" class="sidebar-link">架构设计的历史背景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#最早的-机器语言" class="sidebar-link heading3">最早的“机器语言”</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#稍微好点的-汇编语言" class="sidebar-link heading3">稍微好点的“汇编语言”</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#高级语言" class="sidebar-link heading3">高级语言</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#软件危机" class="sidebar-link heading3">软件危机</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#软件架构的历史背景" class="sidebar-link heading3">软件架构的历史背景</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构设计的目的" class="sidebar-link">架构设计的目的</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构设计的误区" class="sidebar-link heading3">架构设计的误区</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#真正目的" class="sidebar-link heading3">真正目的</a></li><li class="sidebar-sub-header"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#简单的复杂度分析" class="sidebar-link heading3">简单的复杂度分析</a></li></ul></li></ul></li><li><a href="/reading-notes/learn-architecture-from-zero/infrastructure/principles/" class="sidebar-link">/learn-architecture-from-zero/infrastructure/principles/</a></li><li><a href="/reading-notes/learn-architecture-from-zero/infrastructure/sources-of-complexity/" class="sidebar-link">系统复杂度的来源</a></li><li><a href="/reading-notes/learn-architecture-from-zero/infrastructure/design-flow/" class="sidebar-link">/learn-architecture-from-zero/infrastructure/design-flow/</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">高可用架构模式</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">高性能架构模式</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">可扩展架构模式</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">架构实战</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">思考总结</span> <!----></p> <!----></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/reading-notes/learn-architecture-from-zero/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">从 0 开始学架构</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">了解架构设计</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">了解架构设计</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-8-22</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 15 min</span> <meta property="timeRequired" content="PT15M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构指什么" class="anchor-link heading2"><div>架构指什么</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#系统与子系统" class="anchor-link heading3"><div>系统与子系统</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#模块与组件" class="anchor-link heading3"><div>模块与组件</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#框架与架构" class="anchor-link heading3"><div>框架与架构</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#重新定义架构" class="anchor-link heading3"><div>重新定义架构</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#总结" class="anchor-link heading3"><div>总结</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构设计的历史背景" class="anchor-link heading2"><div>架构设计的历史背景</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#最早的-机器语言" class="anchor-link heading3"><div>最早的“机器语言”</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#稍微好点的-汇编语言" class="anchor-link heading3"><div>稍微好点的“汇编语言”</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#高级语言" class="anchor-link heading3"><div>高级语言</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#软件危机" class="anchor-link heading3"><div>软件危机</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#软件架构的历史背景" class="anchor-link heading3"><div>软件架构的历史背景</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构设计的目的" class="anchor-link heading2"><div>架构设计的目的</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#架构设计的误区" class="anchor-link heading3"><div>架构设计的误区</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#真正目的" class="anchor-link heading3"><div>真正目的</div></a></li><li class="anchor"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/what-is-architecture/#简单的复杂度分析" class="anchor-link heading3"><div>简单的复杂度分析</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="了解架构设计"><a href="#了解架构设计" class="header-anchor">#</a> 了解架构设计</h1> <p>架构设计的思维和程序设计的思维差异很大。<strong>架构设计的关键是判断和取舍，程序设计的关键是逻辑和实现。</strong></p> <h2 id="架构指什么"><a href="#架构指什么" class="header-anchor">#</a> 架构指什么</h2> <p>“架构”这个词大家都很常见，那么：</p> <ul><li>准确来说架构指的是什么呢？</li> <li>架构和框架有什么关系和不同？</li></ul> <p>为了回答这些问题，关键在于理解这几个概念：</p> <ul><li>系统与子系统</li> <li>模块与组件</li> <li>框架与架构</li></ul> <h3 id="系统与子系统"><a href="#系统与子系统" class="header-anchor">#</a> 系统与子系统</h3> <h4 id="系统"><a href="#系统" class="header-anchor">#</a> 系统</h4> <blockquote><p>系统指由一群<strong>有关联的</strong>个体组成，根据某种<strong>规则</strong>运作，能完成个别元件<strong>不能单独完成</strong>的工作的群体。</p></blockquote> <ol><li>关联：系统中的个体是有关联的，没有关联的个体不能成为一个系统。可以把发动机、地盘、轮胎和车架组合成一台汽车，但是发动机和手机放在一起不能称为一个系统。</li> <li>规则：系统内个体需要按照指定的规则运作，规则规定了系统内个体的分工和协作方式。例如发动机提供动力，由传动轴把动力传到轮胎，从而驱动汽车前进。</li> <li>单独个体不具备的能力：系统能力和个体能力有本质的区别，系统能力不是个体能力之和，而是产生了新的能力。汽车能载重前行，而发动机、轮胎本身不具备这种能力。</li></ol> <h4 id="子系统"><a href="#子系统" class="header-anchor">#</a> 子系统</h4> <blockquote><p>子系统是由一群由关联的个体所组成的系统，多半会是更大系统中的一部分</p></blockquote> <p>可以看出子系统和系统的定义是一样的，只是观察的角度不同，一个系统可能是另外一个更大系统的子系统。</p> <p>例如，以微信来说</p> <ol><li>微信本身是一个系统，包含聊天、登录、支付、朋友圈等子系统</li> <li>朋友圈这个系统，又包含动态、评论、点赞等子系统</li> <li>评论这个系统可能又包含审核子系统、发布子系统、存储子系统</li> <li>评论审核系统不再包含业务意义上的子系统，而是包括了各个模块或者组件，这些功能模块或者组件本身也是另一个维度上的系统。例如，MySQL、Redis 等是存储系统，但不是业务系统。</li></ol> <h3 id="模块与组件"><a href="#模块与组件" class="header-anchor">#</a> 模块与组件</h3> <p>模块和组件在实际的工作中，很容易混淆，主要是因为它们的定义不好理解，也不好区分。</p> <blockquote><p>软件模块（Module）是一套一致而互相有紧密关连的软件组织。它分别包含了程序和数据结构两部分。现代软件开发往往利用模块作为合成的单位。模块的接口表达了由该模块提供的功能和调用它时所需的元素。模块是可能分开被编写的单位。这使它们可再用和允许人员同时协作、编写及研究不同的模块。</p></blockquote> <blockquote><p>软件组件定义为<strong>自包含的、可编程的、可重用的、与语言无关的软件单元</strong>，软件组件可以很容易被用于组装应用程序中。</p></blockquote> <p>就算看到这里也比较难以区分 😂，根本原因是<strong>模块和组件都是系统的组成部分，只是从不同角度拆分系统而已。</strong></p> <ol><li>从<strong>逻辑角度</strong>来拆分，得到的单元就是“模块”</li> <li>从<strong>物理角度</strong>拆分，得到的单元就是“组件”</li></ol> <p>划分模块的主要目的是职责分离，划分组件的主要目的是单元复用，它“独立且可替换”。</p> <p>以一个简单学生管理系统为例：</p> <ol><li>从逻辑上拆分，可以分为“登录注册模块”、“个人信息模块”、“个人成绩模块”</li> <li>从物理角度拆分，可以分为 Nginx、Web 服务器、MySQL</li></ol> <h3 id="框架与架构"><a href="#框架与架构" class="header-anchor">#</a> 框架与架构</h3> <p>这两个概念也比较相似，工作中有时候也分不清楚。</p> <blockquote><p>软件框架（Software framework）通常指的是为了实现某个业界标准或完成特定基本任务的<strong>软件组件规范</strong>，也指为了实现某个软件组件规范时，<strong>提供规范所要求之基础功能的软件产品</strong>。</p></blockquote> <blockquote><p>软件架构指软件系统的“<strong>基础结构</strong>”，创造这些基础结构的准则，以及对这些结构的描述。</p></blockquote> <p>从上面的定义中提取一些关键的部分：</p> <ul><li>框架是组件规范。例如，MVC 就是一种常见的开发规范，类似的还有 MVP、MVVM、J2EE 等框架。</li> <li>框架是提供基础功能的产品。例如，Spring MVC 是 MVC 的开发框架，除了满足 MVC 的规范，Spring 提供了很多的基础功能帮助我们实现功能，包括 Spring Security、Spring JPA 等很多基础功能</li> <li>和架构对比起来，<strong>框架关注的是“规范”，架构关注的是“结构”</strong>。</li></ul> <p>就算是看起来它们是不同的，平台的工作工作中还是会有些似是而非的说法。例如，我们的系统是基于 Spring MVC 框架开发，标准的 MVC 架构 ...</p> <p>这里的主要原因就是，架构中的“基础结构”并没有明确以什么角度来分解，采用不同角度，可以将系统分解成不同的结构。</p> <p>还是看前面的学生管理系统，从不同角度区划分，我们接可以得到不同的“架构”。</p> <p><img src="/reading-notes/assets/img/architecture-division.8bb76188.png" alt="architecture-division"></p> <h3 id="重新定义架构"><a href="#重新定义架构" class="header-anchor">#</a> 重新定义架构</h3> <p>参考前面维基百科的定义，将架构重新定义为：<strong>软件架构指软件系统的顶层结构</strong>。</p> <ul><li>第一，“系统是一群有关联的个体组层”，架构需要明确系统包含哪些“个体”</li> <li>第二，“系统中的个体是根据某种规则运作的”，架构需要明确个体运作和协作的规则。</li> <li>第三，这里把“基础结构”改为“顶层建筑”，更好的区分系统和子系统，避免混淆。</li></ul> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>架构是顶层设计，框架是面向编程或者配置的半成品，组件是从物理角度的拆分，模块是从业务逻辑上的划分，系统是个体之间相互协作的实体。</p> <h2 id="架构设计的历史背景"><a href="#架构设计的历史背景" class="header-anchor">#</a> 架构设计的历史背景</h2> <p>深入了解事物的本质，最好的方式就是寻找这个事物出现的历史背景和发展目的。接下来去探索软件架构的历史背景。</p> <h3 id="最早的-机器语言"><a href="#最早的-机器语言" class="header-anchor">#</a> 最早的“机器语言”</h3> <p>1940 年之前</p> <p>最早的开发语言使用的是机器语言，直接使用二进制码 0 和 1 来表示机器可以识别的指令和数据。例如，在 8086 机器上完成“s=768+12288-1280”的数学运算，机器码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>101100000000000000000011
000001010000000000110000
001011010000000000000101
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>看不懂 😢</li> <li>又难写 🖊️</li> <li>出问题也难找到 ❓</li></ul> <h3 id="稍微好点的-汇编语言"><a href="#稍微好点的-汇编语言" class="header-anchor">#</a> 稍微好点的“汇编语言”</h3> <p>20 世纪 40 年代</p> <p>为了解决前面的问题，汇编语言出现了。用助记符代替机器指令的操作码，用地址符号（Symbol）或标号（Label）代替指令或操作数的地址。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 将寄存器 BX 的内容送到 AX 中
机器语言：1000100111011000
汇编语言：mov ax,bx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>相比机器语言更加清晰了，可以了解大概意思 😅</li> <li>本质还是面对机器的，需要清楚地了解计算机底层知识 😿</li> <li>写起代码，还是很复杂的 😳</li></ul> <p>例如，完成一个简单的 4 + 6 = ?</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
.section .data
  a: .int 10
  b: .int 20
  format: .asciz &quot;%d\n&quot;
.section .text
.global _start
_start:
  movl a, %edx　　
  addl b, %edx　　
  pushl %edx
  pushl $format
  call printf
  movl $0, (%esp)
  call exit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="高级语言"><a href="#高级语言" class="header-anchor">#</a> 高级语言</h3> <p>20 世纪 50 年代</p> <p>为了解决汇编的问题，高级语言出现了。不需要关注机器底层的低级结构和逻辑，而只要关注具体的问题和业务即可。此外，通过编译程序的处理，高级语言可以被编译为适合不同 CPU 指令的机器语言。我们开发的代码，只需要写一次，就可以在不同的机器上编译运行。</p> <h3 id="软件危机"><a href="#软件危机" class="header-anchor">#</a> 软件危机</h3> <h4 id="第一次软件危机和结构化程序设计"><a href="#第一次软件危机和结构化程序设计" class="header-anchor">#</a> 第一次软件危机和结构化程序设计</h4> <p>20 世纪 60 年代~20 世纪 70 年代</p> <p>高级语言出现后，随着软件规模的增长后复杂度的增加，爆发了第一次软件危机。典型的表现为，项目无法如期完成、严重超支等。</p> <p>最经典的例子就是，IBM 的 System/360 操作系统，佛瑞德·布鲁克斯作为项目主管</p> <ul><li>率领 2000 多个程序员</li> <li>花费超过 5000 人一年的工作量</li> <li>写出将近 100W 行代码</li> <li>总投入 5 亿美元，占曼哈顿原子弹计划的 1/4</li></ul> <p>尽管投入如此巨大，但是项目却一再延迟，质量也没有保障，布鲁格斯最后将这个项目经验总结为《人月神话》一书</p> <p>为了化解问题，1968、1969 年NATO 会议提出了解决方法“软件工程”，但是最后证明软件工程也无法根除程序危机，只是在一定程度上缓解这个问题。</p> <p>差不多同一时间，艾兹赫尔·戴克斯特拉提出了“<strong>结构化程序设计方法</strong>”，主要特点就是抛弃 goto 语句，采取“自顶向下，逐步细化，模块化”的指导思想，将复杂度控制在了一定范围。</p> <h4 id="第二次软件危机与面向对象在"><a href="#第二次软件危机与面向对象在" class="header-anchor">#</a> 第二次软件危机与面向对象在</h4> <p>20 世纪 80 年代</p> <p>随着硬件的发展，和编程领域越来越广泛，第二次程序危机到来了。第一次危机主要根源在于软件的“逻辑”变得复杂，而第二次软件危机则是“扩展”变得非常复杂。在这种背景下，<strong>面向对象</strong> 的思想开始流行起来，得益于 C++ 以及后来的 Java，面向对象已经成为一种主流思想。</p> <p>但是面向对象也不是银弹，而只是一种新的软件方法而已。</p> <h3 id="软件架构的历史背景"><a href="#软件架构的历史背景" class="header-anchor">#</a> 软件架构的历史背景</h3> <p>软件架构这个概念最早在 20 世纪 60 年代就提出了，90 年代由于 Rational 和 Microsoft 的内部活动，这个概念开始流行起来。</p> <p>卡内基·梅隆大学的玛丽·肖（Mary Shaw）和戴维·加兰（David Garlan）在 199 年的一篇文章《软件架构介绍》中写到：</p> <blockquote><p>“When systems are constructed from many components, the organization of the overall system-the software architecture-presents a new set of design problems.”</p></blockquote> <p>也就是当系统由许多部分组成时，整个系统的组织，也就是所说的“软件架构”，导致了一系列新的设计问题。</p> <p>例如：</p> <ul><li>系统规模庞大，内部耦合严重，开发效率低；</li> <li>系统耦合严重，牵一发动全身，后续修改和扩展困难；</li> <li>系统逻辑复杂，容易出问题，出问题后很难排查和修复。</li></ul> <p><strong>软件架构的出现是又其历史必然性。</strong></p> <h2 id="架构设计的目的"><a href="#架构设计的目的" class="header-anchor">#</a> 架构设计的目的</h2> <p>为什么做架构设计❓</p> <h3 id="架构设计的误区"><a href="#架构设计的误区" class="header-anchor">#</a> 架构设计的误区</h3> <p>架构设计常见的误区有：</p> <p><strong>1. 架构很重要，所以要做架构设计</strong></p> <p>这是一句废话，架构很重要，但为什么重要呢？是因为</p> <ul><li>不做架构设计系统就跑不起来❓ 那也不是这样，创业公司初期的产品可能就没有做架构设计，大家简单讨论一下就开始编码了，开发速度更快，上线的效果也不错</li> <li>做了架构设计就能提升开发效率❓ 也不一定，有时候最简单的设计反而效率是最高的，毕竟架构设计也需要投入时间和人力的</li> <li>设计良好的架构能促进业务发展么❓ 是有一定道理，但是反过来想，如果我们照搬微信的架构，业务就能达到微信的量级么？</li></ul> <p><strong>2. 不是每个系统都需要做架构设计吗</strong></p> <p>这其实是知其然不知其所以然，这让很容易走入生搬硬套业界其他公司的已有架构的错误道路，很容易导致“水土不服”。</p> <p><strong>3. 因为要高性能、高可用、可扩展，所以要做架构设计</strong></p> <p>这确实是架构设计的目标...，但是简单的持有这种观点可能给项目带来巨大的灾难。如果不管什么系统，一上来就“高性能、高可用、可扩展”，结果就是把架构设计得异常复杂，落地遥遥无期，上线之后，又不稳定经常出问题，加个功能要 1 个月...</p> <h3 id="真正目的"><a href="#真正目的" class="header-anchor">#</a> 真正目的</h3> <p>整个软件技术的发展史，其实就是一部与“复杂度”斗争的历史。前面回顾了架构产生的背景和原因，可以找到架构设计的真正目的：<strong>架构设计的主要目的是为了解决软件系统复杂度带来的问题</strong>。</p> <p>这是架构设计需要铭记的一条准则。</p> <p><strong>1. 遵循这条准则能够让“新手”架构师心中有数，而不是一头雾水。</strong></p> <p>新手架构师开始做架构设计的时候，恨不得设计出一个世界上最牛逼的系统，从此走上人生巅峰，但面对具体的需求时，又往往陷入一头雾水的状态：</p> <ul><li>这么多需求，从哪里开始下手做架构设计？</li> <li>要考虑“高性能、高可用...”这么多高xx，全部设计完感觉需要 1 个月，老板只给 1 周时间</li> <li>阿里是 A 架构，腾讯是 B 架构，要参考哪个呢？</li></ul> <p>这些问题，如果明确“架构是为了解决软件复杂度”原则后，就很好回答了。</p> <ul><li>这么多需求，从哪里开始下手做架构设计：通过熟悉和理解需求，识别系统复杂性所在的地方，然后针对这些复杂点进行架构设计。</li> <li>要考虑“高性能、高可用...”这么多高xx，全部设计完感觉需要 1 个月，老板只给 1 周时间：架构设计并不是要面面俱到，不是每个系统都需要具备高性能、高可用、搞扩展等特点，而是识别出复杂点然后针对性的解决问题</li> <li>阿里是 A 架构，腾讯是 B 架构，要参考哪个呢：理解每个架构方案背后解决的复杂点，然后对比自己业务的复杂点，参考复杂点相似的方案</li></ul> <p><strong>2. 遵循这聊准则让“老鸟”架构师有的放矢，而不是贪大求全。</strong></p> <p>技术人员往往想做出最牛逼的东西，老鸟架构师也不例外：</p> <ul><li>我们的系统要做到每秒 TPS 10w</li> <li>淘宝的架构怎么做我们就怎么做</li> <li>Docker 现在很流行，我们的系统应该将 Docker 应用进来</li></ul> <p>同样的，用“架构设计是为了解决软件复杂度”这个准则来衡量，可以容易的判断</p> <ul><li>我们的系统要做到每秒 TPS 10w：如果系统的复杂度不在性能这部分，TPS 做到 10w 并没有什么卵用</li> <li>淘宝的架构怎么做我们就怎么做：淘宝的结构是为了解决淘宝的业务复杂度设计的，它的复杂度并不一定就是我们的复杂度</li> <li>Docker 现在很流行，我们的系统应该将 Docker 应用进来：Docker 不是万能的，只是为了解决资源重用和动态分配而设计的，如果我们系统复杂度不在这方面，引入 Docker 没有意义。</li></ul> <h3 id="简单的复杂度分析"><a href="#简单的复杂度分析" class="header-anchor">#</a> 简单的复杂度分析</h3> <p>看一个简单的案例，将“架构设计是为了解决系统复杂度带来的问题”的原则应用到实践中</p> <p class="nx-tip warning">
  复杂度高的地方是因为系统最需要优先考虑和最需要满足的地方
</p> <p>“假设我们需要设计一个大学的学生管理系统，其基本功能包括登录、注册、成绩管理、课程管理“，面对这样一个系统，应该如何做设计呢？</p> <ol><li>首先，识别系统的复杂度在哪里？</li></ol> <ul><li>性能：1 个学校大约 1～2 万个学校，系统的访问频率并不高，平均每天每个学生访问可能都不到 1 次。所以性能这部分并不复杂，存储用 MySQL 就可以，缓存都可以不用，Web 服务器用 Nginx 绰绰有余。</li> <li>可扩展性：学生管理系统比较稳定，因此可扩展性也并不复杂</li> <li>高可用：学生管理系统即使宕机 2 小时，对学生管理工作也不会又大影响，因此可以不做复杂均衡，更不用考虑异地多活这类复杂的方案了。<strong>但是，如果学生的数据丢失，修复是非常麻烦的，只能人工逐条修复，这个是很难接受的，因此需要考虑存储高可靠</strong>。这里就有点复杂了，需要考虑多种情况：机器故障、机房故障
<ul><li>针对机器故障，我们需要设计 MySQL 同机房主备方案</li> <li>针对机房故障，我们需要设计 MySQL 跨机房同步方案</li></ul></li> <li>安全性：学生信息是有一定隐私性，例如家庭情况，但是又和金融不同，也没有强隐私（玉照、情感等）信息，所以安全性只需要考虑 3 件事：Nginx 提供 ACL 控制、用户账号密码管理、数据库访问权限控制</li> <li>成本：由于系统简单，基本几台服务器就可以搞定，对于大学来说不是问题，可以不用考虑</li></ul> <p>👋 Nginx acl 使用关键字 access 和 deny 进行配置，从上往下匹配，完成匹配则执行对应的操作。access 和 deny 可以放在 http、server、location、limit_except 段中。可以限制网段，也可以是单个IP。例子如下</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>location / {
    deny  192.168.1.1;
    allow 192.168.1.0/24;
    allow 10.1.1.0/16;
    allow 2001:0db8::/32;
    deny  all;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>通过前面的分析，可以知道系统的复杂性主要是在存储的可靠性上，需要保证异常情况下数据不丢失，对应的架构如下：</p> <p><img src="/reading-notes/assets/img/architecture-student-system-design.f8175c74.png" alt="student-system-design"></p> <p>架构是为了解决系统复杂度问题，需求驱动架构设计。</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/niexia/reading-notes/edit/main/docs/learn-architecture-from-zero/infrastructure/what-is-architecture.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">August 22, 2021 11:24</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: yangjin.im@bytedance.com" class="contributor">
          杨金
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/reading-notes/learn-architecture-from-zero/" class="prev router-link-active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        介绍
      </a></span> <span class="next"><a href="/reading-notes/learn-architecture-from-zero/infrastructure/principles/">
        /learn-architecture-from-zero/infrastructure/principles/
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!----><!----></div></div>
    <script src="/reading-notes/assets/js/app.345870b4.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Layout.783be478.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b90199b.js" defer></script><script src="/reading-notes/assets/js/page-了解架构设计.e6eb2120.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.c1acbf4e.js" defer></script><script src="/reading-notes/assets/js/71.57253716.js" defer></script>
  </body>
</html>
