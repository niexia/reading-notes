<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向对象是什么 | Reading Notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/reading-notes/favicon.ico">
    <link rel="manifest" href="/reading-notes/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="写点啦!">
    <meta property="og:url" content="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented.html">
    <meta property="og:site_name" content="Reading Notes">
    <meta property="og:title" content="面向对象是什么">
    <meta property="og:description" content="面向对象是什么 什么是面向对象编程 面向对象对象编程是一种编程范式（风格）： 以类或对象作为组织代码的基本单元；; 将封装、抽象、继承和多态作为代码设计和实现的基础。; 什么语言是面向对象的语言 相对应的，面向对象编程语法需要： 支持类或者对象的语法机制；; 有语法机制能方便的实现面向对象的四大特性封装、抽象、继承和多态。; 怎么判断是否是面向对象语言 1.">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Reading Notes">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/reading-notes/assets/css/0.styles.9772cc4e.css" as="style"><link rel="preload" href="/reading-notes/assets/js/app.345870b4.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Layout.783be478.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b90199b.js" as="script"><link rel="preload" href="/reading-notes/assets/js/page-面向对象是什么.920ffeff.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.c1acbf4e.js" as="script"><link rel="preload" href="/reading-notes/assets/js/71.57253716.js" as="script"><link rel="prefetch" href="/reading-notes/assets/js/3.1b77c550.js"><link rel="prefetch" href="/reading-notes/assets/js/72.16da1e8b.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Blog.0802cdff.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Layout.ea688dcf.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-NotFound.c77a49fb.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Slide.6e5e88a9.js"><link rel="prefetch" href="/reading-notes/assets/js/page--25410731.c72f8e99.js"><link rel="prefetch" href="/reading-notes/assets/js/page--3992e0e1.addfe44d.js"><link rel="prefetch" href="/reading-notes/assets/js/page--44a0de64.b6c54115.js"><link rel="prefetch" href="/reading-notes/assets/js/page--4855b8f6.6e451f2a.js"><link rel="prefetch" href="/reading-notes/assets/js/page--5f87f751.ea557d00.js"><link rel="prefetch" href="/reading-notes/assets/js/page--7507ab0e.4efc981e.js"><link rel="prefetch" href="/reading-notes/assets/js/page--ac2b465e.e25f2a9c.js"><link rel="prefetch" href="/reading-notes/assets/js/page--d1e0c466.71ac3d47.js"><link rel="prefetch" href="/reading-notes/assets/js/page-BF算法和RK算法.202ffbff.js"><link rel="prefetch" href="/reading-notes/assets/js/page-DRY原则.52b00526.js"><link rel="prefetch" href="/reading-notes/assets/js/page-KISS.186f2a45.js"><link rel="prefetch" href="/reading-notes/assets/js/page-LOD.e7d60146.js"><link rel="prefetch" href="/reading-notes/assets/js/page-SOLID.1e5e29a2.js"><link rel="prefetch" href="/reading-notes/assets/js/page-Tire树.ec562be4.js"><link rel="prefetch" href="/reading-notes/assets/js/page-YAGNI.57fc7ef2.js"><link rel="prefetch" href="/reading-notes/assets/js/page-专业主义.af16f84a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-为什么要用金字塔原理.e360398a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-为什么需要学习掌握设计模式相关知识.3ffcede7.js"><link rel="prefetch" href="/reading-notes/assets/js/page-了解架构设计.e6eb2120.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二分查找.56a5f810.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二分查找的变形.6066ab81.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二叉查找树.b7b4f127.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二叉树.1e9e72f9.js"><link rel="prefetch" href="/reading-notes/assets/js/page-介绍.3f8b8940.js"><link rel="prefetch" href="/reading-notes/assets/js/page-从0开始学架构.d46de445.js"><link rel="prefetch" href="/reading-notes/assets/js/page-代码整洁之道-程序员的职业素养.f817a408.js"><link rel="prefetch" href="/reading-notes/assets/js/page-冒泡、插入和选择排序.c1e74f17.js"><link rel="prefetch" href="/reading-notes/assets/js/page-分治算法.bd1ca026.js"><link rel="prefetch" href="/reading-notes/assets/js/page-前言.cc66d306.js"><link rel="prefetch" href="/reading-notes/assets/js/page-动态规划.23e5169b.js"><link rel="prefetch" href="/reading-notes/assets/js/page-哈希算法.38d5864c.js"><link rel="prefetch" href="/reading-notes/assets/js/page-回溯算法.89e9886d.js"><link rel="prefetch" href="/reading-notes/assets/js/page-图.1b1a331d.js"><link rel="prefetch" href="/reading-notes/assets/js/page-堆.620e3562.js"><link rel="prefetch" href="/reading-notes/assets/js/page-堆的应用.13d63d71.js"><link rel="prefetch" href="/reading-notes/assets/js/page-实战.136958b1.js"><link rel="prefetch" href="/reading-notes/assets/js/page-归并排序和快速排序.de505601.js"><link rel="prefetch" href="/reading-notes/assets/js/page-手写链表的技巧.9878a3c1.js"><link rel="prefetch" href="/reading-notes/assets/js/page-排序.0afbb37e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-排序优化.6884a7b1.js"><link rel="prefetch" href="/reading-notes/assets/js/page-散列表.e66d5302.js"><link rel="prefetch" href="/reading-notes/assets/js/page-数组.37195c16.js"><link rel="prefetch" href="/reading-notes/assets/js/page-栈.2a1bc434.js"><link rel="prefetch" href="/reading-notes/assets/js/page-桶排序、计数排序和基数排序.71ea81d4.js"><link rel="prefetch" href="/reading-notes/assets/js/page-深度优先和广度优先搜索.a386bf72.js"><link rel="prefetch" href="/reading-notes/assets/js/page-硅谷钢铁侠.977b2e0c.js"><link rel="prefetch" href="/reading-notes/assets/js/page-系统复杂度的来源.b407aa1e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-红黑树.ca04409e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-练习.1020f553.js"><link rel="prefetch" href="/reading-notes/assets/js/page-设计散列表.be637e19.js"><link rel="prefetch" href="/reading-notes/assets/js/page-说不.5e57ec82.js"><link rel="prefetch" href="/reading-notes/assets/js/page-说是.52ab684f.js"><link rel="prefetch" href="/reading-notes/assets/js/page-贪心算法.be36c700.js"><link rel="prefetch" href="/reading-notes/assets/js/page-跳表.ae1321ec.js"><link rel="prefetch" href="/reading-notes/assets/js/page-递归.4927d34e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-重构.8c78b7bb.js"><link rel="prefetch" href="/reading-notes/assets/js/page-金字塔原理.7d1e5168.js"><link rel="prefetch" href="/reading-notes/assets/js/page-链表.ffbac2ef.js"><link rel="prefetch" href="/reading-notes/assets/js/page-队列.df7ba957.js"><link rel="prefetch" href="/reading-notes/assets/js/vendors~photo-swipe.62884794.js">
    <link rel="stylesheet" href="/reading-notes/assets/css/0.styles.9772cc4e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/reading-notes/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">Reading Notes</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title"><!---->
        目录
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🧑🏻‍💻 技术</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/algo/" class="nav-link"><!---->
  数据结构和算法之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-beauty-of-design-patterns/" class="nav-link router-link-active active"><!---->
  设计模式之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/learn-architecture-from-zero/" class="nav-link"><!---->
  从0开始学架构
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-clean-coder/" class="nav-link"><!---->
  代码整洁之道|程序员的职业素养
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🎯 综合能力</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/the-minto-pyramid-principle/" class="nav-link"><!---->
  金字塔原理
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🥤 人物传记</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/elon-musk/" class="nav-link"><!---->
  硅谷钢铁侠
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/niexia/reading-notes" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title"><!---->
      目录
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🧑🏻‍💻 技术</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/algo/" class="nav-link"><!---->
  数据结构和算法之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-beauty-of-design-patterns/" class="nav-link router-link-active active"><!---->
  设计模式之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/learn-architecture-from-zero/" class="nav-link"><!---->
  从0开始学架构
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-clean-coder/" class="nav-link"><!---->
  代码整洁之道|程序员的职业素养
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🎯 综合能力</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/the-minto-pyramid-principle/" class="nav-link"><!---->
  金字塔原理
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🥤 人物传记</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/elon-musk/" class="nav-link"><!---->
  硅谷钢铁侠
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a rel="noopener noreferrer" href="https://github.com/niexia/reading-notes" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">面向对象</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/" aria-current="page" class="active sidebar-link">面向对象是什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#什么是面向对象编程" class="sidebar-link">什么是面向对象编程</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#什么语言是面向对象的语言" class="sidebar-link">什么语言是面向对象的语言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#怎么判断是否是面向对象语言" class="sidebar-link heading3">怎么判断是否是面向对象语言</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#面向对象编程和面向对象编程语言之间的关系" class="sidebar-link heading3">面向对象编程和面向对象编程语言之间的关系</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#四大特性封装、抽象、继承、多态是什么解决了什么问题" class="sidebar-link">四大特性封装、抽象、继承、多态是什么解决了什么问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#封装" class="sidebar-link heading3">封装</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#抽象" class="sidebar-link heading3">抽象</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#继承" class="sidebar-link heading3">继承</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#多态" class="sidebar-link heading3">多态</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#面向对象比面向过程好在哪" class="sidebar-link">面向对象比面向过程好在哪</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#什么是面向过程编程与面向过程编程语言" class="sidebar-link heading3">什么是面向过程编程与面向过程编程语言</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#面向对象有哪些优势" class="sidebar-link heading3">面向对象有哪些优势</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#这些代码看似时面向对象实际是面向过程" class="sidebar-link heading3">这些代码看似时面向对象实际是面向过程</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#接口和抽象类" class="sidebar-link">接口和抽象类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#它们是什么区别在哪里" class="sidebar-link heading3">它们是什么区别在哪里</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#接口" class="sidebar-link heading3">接口</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#有什么区别" class="sidebar-link heading3">有什么区别</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#存在意义解决什么问题" class="sidebar-link heading3">存在意义解决什么问题</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何决定该用抽象类还是接口" class="sidebar-link heading3">如何决定该用抽象类还是接口</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#为什么基于接口而非实现编程" class="sidebar-link">为什么基于接口而非实现编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何理解原则中的-接口" class="sidebar-link heading3">如何理解原则中的“接口”</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何应用到实战中" class="sidebar-link heading3">如何应用到实战中</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#是否需要为每个类都定义接口" class="sidebar-link heading3">是否需要为每个类都定义接口</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#为什么多用组合少用继承" class="sidebar-link">为什么多用组合少用继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#为什么不推荐继承" class="sidebar-link heading3">为什么不推荐继承</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#换组合来做有什么优势" class="sidebar-link heading3">换组合来做有什么优势</a></li><li class="sidebar-sub-header"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何判断该用组合还是继承" class="sidebar-link heading3">如何判断该用组合还是继承</a></li></ul></li></ul></li><li><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/practice/" class="sidebar-link">实战</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">设计原则</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reading-notes/the-beauty-of-design-patterns/design-principles/SOLID/" class="sidebar-link">SOLID</a></li><li><a href="/reading-notes/the-beauty-of-design-patterns/design-principles/KISS/" class="sidebar-link">KISS</a></li><li><a href="/reading-notes/the-beauty-of-design-patterns/design-principles/YAGNI/" class="sidebar-link">YAGNI</a></li><li><a href="/reading-notes/the-beauty-of-design-patterns/design-principles/DRY/" class="sidebar-link">DRY原则</a></li><li><a href="/reading-notes/the-beauty-of-design-patterns/design-principles/LOD/" class="sidebar-link">LOD</a></li><li><a href="/reading-notes/the-beauty-of-design-patterns/design-principles/practice/" class="sidebar-link">/the-beauty-of-design-patterns/design-principles/practice/</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">规范与重构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reading-notes/the-beauty-of-design-patterns/standard-refactor/refactor/" class="sidebar-link">重构</a></li><li><a href="/reading-notes/the-beauty-of-design-patterns/standard-refactor/standard/" class="sidebar-link">/the-beauty-of-design-patterns/standard-refactor/standard/</a></li><li><a href="/reading-notes/the-beauty-of-design-patterns/standard-refactor/practice/" class="sidebar-link">/the-beauty-of-design-patterns/standard-refactor/practice/</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">设计模式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><!----></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/reading-notes/the-beauty-of-design-patterns/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">为什么需要学习掌握设计模式相关知识</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">面向对象是什么</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">面向对象是什么</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2022-3-27</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 30 min</span> <meta property="timeRequired" content="PT30M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#什么是面向对象编程" class="anchor-link heading2"><div>什么是面向对象编程</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#什么语言是面向对象的语言" class="anchor-link heading2"><div>什么语言是面向对象的语言</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#怎么判断是否是面向对象语言" class="anchor-link heading3"><div>怎么判断是否是面向对象语言</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#面向对象编程和面向对象编程语言之间的关系" class="anchor-link heading3"><div>面向对象编程和面向对象编程语言之间的关系</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#四大特性封装、抽象、继承、多态是什么解决了什么问题" class="anchor-link heading2"><div>四大特性封装、抽象、继承、多态是什么解决了什么问题</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#封装" class="anchor-link heading3"><div>封装</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#抽象" class="anchor-link heading3"><div>抽象</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#继承" class="anchor-link heading3"><div>继承</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#多态" class="anchor-link heading3"><div>多态</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#面向对象比面向过程好在哪" class="anchor-link heading2"><div>面向对象比面向过程好在哪</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#什么是面向过程编程与面向过程编程语言" class="anchor-link heading3"><div>什么是面向过程编程与面向过程编程语言</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#面向对象有哪些优势" class="anchor-link heading3"><div>面向对象有哪些优势</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#这些代码看似时面向对象实际是面向过程" class="anchor-link heading3"><div>这些代码看似时面向对象实际是面向过程</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#接口和抽象类" class="anchor-link heading2"><div>接口和抽象类</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#它们是什么区别在哪里" class="anchor-link heading3"><div>它们是什么区别在哪里</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#接口" class="anchor-link heading3"><div>接口</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#有什么区别" class="anchor-link heading3"><div>有什么区别</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#存在意义解决什么问题" class="anchor-link heading3"><div>存在意义解决什么问题</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何决定该用抽象类还是接口" class="anchor-link heading3"><div>如何决定该用抽象类还是接口</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#为什么基于接口而非实现编程" class="anchor-link heading2"><div>为什么基于接口而非实现编程</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何理解原则中的-接口" class="anchor-link heading3"><div>如何理解原则中的“接口”</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何应用到实战中" class="anchor-link heading3"><div>如何应用到实战中</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#是否需要为每个类都定义接口" class="anchor-link heading3"><div>是否需要为每个类都定义接口</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#为什么多用组合少用继承" class="anchor-link heading2"><div>为什么多用组合少用继承</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#为什么不推荐继承" class="anchor-link heading3"><div>为什么不推荐继承</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#换组合来做有什么优势" class="anchor-link heading3"><div>换组合来做有什么优势</div></a></li><li class="anchor"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented/#如何判断该用组合还是继承" class="anchor-link heading3"><div>如何判断该用组合还是继承</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="面向对象是什么"><a href="#面向对象是什么" class="header-anchor">#</a> 面向对象是什么</h1> <h2 id="什么是面向对象编程"><a href="#什么是面向对象编程" class="header-anchor">#</a> 什么是面向对象编程</h2> <p>面向对象对象编程是一种编程范式（风格）：</p> <ul><li>以类或对象作为组织代码的基本单元；</li> <li>将封装、抽象、继承和多态作为代码设计和实现的基础。</li></ul> <h2 id="什么语言是面向对象的语言"><a href="#什么语言是面向对象的语言" class="header-anchor">#</a> 什么语言是面向对象的语言</h2> <p>相对应的，面向对象编程语法需要：</p> <ul><li>支持类或者对象的语法机制；</li> <li>有语法机制能方便的实现面向对象的四大特性封装、抽象、继承和多态。</li></ul> <h3 id="怎么判断是否是面向对象语言"><a href="#怎么判断是否是面向对象语言" class="header-anchor">#</a> 怎么判断是否是面向对象语言</h3> <ol><li>如果不按照严格的定义，大部分语言都是面向对象编程语言。
例如 JS 不支持封装和继承，按照严格意义它不算面向对象编程语言，但是某种意义上他也是面向对象的编程语言。</li> <li>从面向对象编程的字面上，最简单、最原始的方式就是将对象或类作为代码组织的基本单元，来进行编程的一种编程方式（风格）。
是否有现成语法支持面向对象的四大特性、是否对四大特性有所取舍，可以不作为标准。</li></ol> <h3 id="面向对象编程和面向对象编程语言之间的关系"><a href="#面向对象编程和面向对象编程语言之间的关系" class="header-anchor">#</a> 面向对象编程和面向对象编程语言之间的关系</h3> <ol><li>面向对象编程一般使用面向对象编程语言来进行，但是不用面向对象编程语言照样可以面向对象编程</li> <li>反过来，我们使用面向对象编程语言，写出来的代码也不一定是面向对象风格，而是面向过程风格。</li></ol> <h2 id="四大特性封装、抽象、继承、多态是什么解决了什么问题"><a href="#四大特性封装、抽象、继承、多态是什么解决了什么问题" class="header-anchor">#</a> 四大特性封装、抽象、继承、多态是什么解决了什么问题</h2> <p>理解面向对象，关键是理解其四大特性：封装、抽象、继承、多态。对于这四大特性，光理解它们的定义是不够的，还需要知道每个特性的意义和目的，以及解决了什么问题。</p> <h3 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h3> <h4 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h4> <ul><li>封装也叫作信息隐藏或者数据访问保护。类通过暴露有限的访问接口，授权外部<strong>仅能通过类提供的方式（或者叫函数）来访问内部信息或者数据</strong>。</li> <li>封装不是拒绝访问，而是限制访问。单纯的属性私有化不能称为封装</li></ul> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">personOptions</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token operator">:</span> personOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> height<span class="token punctuation">,</span> age<span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">setHeight</span><span class="token punctuation">(</span>height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
  height<span class="token operator">:</span> <span class="token number">175</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

person<span class="token punctuation">.</span>age<span class="token punctuation">;</span> <span class="token comment">// Property 'age' is private and only accessible within class 'Person'.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>对 <code>age</code> 属性的访问进行了限制，只能通过 getAge 进行访问。封装这个特性，需要编程语言提供一定的语法机制来支持，这个语法支持就是访<strong>问权限控制</strong>。</p> <h4 id="意义和解决的问题"><a href="#意义和解决的问题" class="header-anchor">#</a> 意义和解决的问题</h4> <ol><li>提升可维护性：如果不对属性访问做限制，那任何代码都可以访问、修改属性，虽然更灵活，但是也更不可控，修改的逻辑散落在各个地方，最后不知道哪里改了数据</li> <li>提升易用性：如果直接把属性暴露给调用者，调用者想修改这些属性，就需要对业务细节有足够的理解，这也是一种负担。将属性封装起来，暴露必要的方法给调用方，这样就不用关注太多细节了。</li></ol> <h3 id="抽象"><a href="#抽象" class="header-anchor">#</a> 抽象</h3> <h4 id="定义-2"><a href="#定义-2" class="header-anchor">#</a> 定义</h4> <ul><li>封装主要讲的是如何隐藏信息、保护数据；</li> <li>而抽象讲的是如何隐藏方法的具体实现，让调用者只需要<strong>关心提供了哪些功能</strong>，并不需要知道这些功能是如何实现的。</li></ul> <p>使用编程语言中的接口类 <code>interface</code> 就可以实现抽象这一特性</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Pingable</span> <span class="token punctuation">{</span>
  <span class="token function">ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Sonar</span> <span class="token keyword">implements</span> <span class="token class-name">Pingable</span> <span class="token punctuation">{</span>
  <span class="token function">ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ping!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>调用者在调用 <code>Pingable</code> 就可以了解它提供了那些方法，不需要去了解具体实现逻辑。但是不使用 <code>Pingable</code>，<code>Sonar</code> 类本身也满足抽象特性，因为类的方法是通过“函数”实现的，通过函数实现具体逻辑，这本身就是一种抽象。</p> <h4 id="意义和解决的问题-2"><a href="#意义和解决的问题-2" class="header-anchor">#</a> 意义和解决的问题</h4> <ul><li>过滤掉不必要关注的信息。人脑能承受的信息复杂程度是有限的，通过抽象，可以帮助我们过滤掉需要非必要的信息</li> <li>提升可维护性、可扩展性。换个角度，我们在定义方法的时候也要有抽象思维，不要在方法定义中暴露太多细节（但是也不能太宽泛），这样后面如果我们需要修改方法实现不用去修改定义。<code>getPictureUrl</code> 就比 <code>getAliyunPictureUrl</code> 好。</li> <li>抽象作为一种宽泛的设计思想，对代码设计起到重要的指导作用。很多设计原则都体现这种原则：开闭原则、代码解耦</li></ul> <h3 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h3> <h4 id="定义-3"><a href="#定义-3" class="header-anchor">#</a> 定义</h4> <ul><li>继承是用来表示类之间的 is-a 关系，比如猫是一种哺乳动物。</li> <li>从继承关系上来讲，继承可以分为两种模式，单继承和多继承。单继承表示一个子类只继承一个父类，多继承表示一个子类可以继承多个父类，比如猫既是哺乳动物，又是爬行动物。</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token operator">:</span> personOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> height<span class="token punctuation">,</span> age<span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token builtin">number</span> <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="意义和解决的问题-3"><a href="#意义和解决的问题-3" class="header-anchor">#</a> 意义和解决的问题</h4> <ul><li>继承最大的一个好处就是代码复用。如果两类有相同的属性和方法，就可以将它们抽取到父类，并让两个子类继承父类</li> <li>符合人类认知，从代码设计角度来说也是一种结构美感。学生是人，从人类认知角度来说，是一种 is-a 关系，非常符合我们认知。</li> <li>继承很好理解，但是继承层次过审就会导致可读性、可维护性变差。</li></ul> <h3 id="多态"><a href="#多态" class="header-anchor">#</a> 多态</h3> <h4 id="定义-4"><a href="#定义-4" class="header-anchor">#</a> 定义</h4> <ul><li>同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果。</li> <li>多态和重载最大的区别在于参数的上，前者参数必须一致，后者可以重载扩展。</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> options<span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
  <span class="token comment">// 不实现任何代码，子类实现</span>
  <span class="token keyword">abstract</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token builtin">number</span> <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'学生的编号是'</span> <span class="token operator">+</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token builtin">number</span> <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'老师的编号是'</span> <span class="token operator">+</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 也可以是使用 interface</span>
<span class="token class-name"><span class="token keyword">interface</span></span> PersonInterface <span class="token punctuation">{</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">implements</span> <span class="token class-name">PersonInterface</span> <span class="token punctuation">{</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h4 id="意义和解决的问题-4"><a href="#意义和解决的问题-4" class="header-anchor">#</a> 意义和解决的问题</h4> <ul><li>提升代码可维护性复用性（?）</li> <li>是很多设计模式、设计原则的实现基础。例如策略模式、依赖倒置原则等</li></ul> <h2 id="面向对象比面向过程好在哪"><a href="#面向对象比面向过程好在哪" class="header-anchor">#</a> 面向对象比面向过程好在哪</h2> <h3 id="什么是面向过程编程与面向过程编程语言"><a href="#什么是面向过程编程与面向过程编程语言" class="header-anchor">#</a> 什么是面向过程编程与面向过程编程语言</h3> <h4 id="面向对象"><a href="#面向对象" class="header-anchor">#</a> 面向对象</h4> <p>回归一下前面的内容</p> <ul><li>面向对象编程：就是以类或对象作为组织代码的基本单元，并将封装、抽象、继承、多态作为代码设计和实现的基础</li> <li>面向对象编程语言：支持类或对象，并有现场的语法机制，能方便实现四大特性封装、抽象、继承、多态</li></ul> <h4 id="面向过程"><a href="#面向过程" class="header-anchor">#</a> 面向过程</h4> <p>类比一下，我们就可以得出面向过程的定义</p> <ul><li>面向过程编程：也是一种编程范式（风格），它以<strong>过程</strong>（可以理解为方法、函数、操作）作为组织代码的基本单元，以<strong>数据</strong>（可以理解为变量、属性）与方法相分离为主要特点。是一种<strong>流程化</strong>的编程风格，通过拼接一组操作数据完成一项功能。</li> <li>面向过程编程语言：最大特点是<strong>不支持类和对象</strong>两个语法概念，不支持丰富的面向对象特性（比如封装、抽象、继承），仅支持面向过程编程。</li></ul> <h4 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h4> <p>它们最基本的区别是代码的组织方式不同</p> <ul><li>面向过程的代码被组织成了一组方法集合及其数据结构，方法和数据结构的定义是分开的。</li> <li>面向对象的代码被组织成一组类，方法和数据结构被绑定在一起。</li></ul> <h3 id="面向对象有哪些优势"><a href="#面向对象有哪些优势" class="header-anchor">#</a> 面向对象有哪些优势</h3> <p>面向过程先出现，面向对象为什么能成为主流的编程范式？和面向过程相比到底有什么优势？</p> <ul><li><p>OOP 更加能够应对大规模复杂程序的开发</p> <ul><li>它们的代码实现其实差不多，只是组织方式不同，一般情况下没有感觉明显的优势！</li> <li><strong>如果需求足够简单，那么处理流程只有一条线，通过划分成不同的几个步骤，并翻译成代码，这种非常适合面向过程来实现！</strong></li> <li>但是如果是大规模的程序开发，整个处理流程并不是一条线而是错综复杂的，是一个网状结构。
<ul><li>如果按照面向过程这种流程化的思维去“翻译”这个网状结构，<strong>去思考如何将程序拆分成一组程序执行的方法，会比较吃力</strong>！</li> <li>面向对象则是以类为思考对象，先去思考业务如何建模，如何将需求翻译为类，如何给这些类建立交互关系，而完成这些并不需要考虑错综复杂的流程。<strong>有了类的设计之后，就可以像搭积木一样，按照不同流程组装形成整个程序</strong>。</li></ul></li> <li>面向对象通过类也提供一种更清晰、更加模块化的代码组织方式。例如我们一个广告系统业务逻辑复杂、代码量很大，数百个函数、数据结构怎么组织才能不凌乱呢？类就是一种很好的方式。当然通过将不同函数、数据结构放到不同的文件（JS 的方式）也可以达到这种效果，但是这并不是强求的，面向对象将强制你这么去做。</li></ul></li> <li><p>OOP 风格的代码更易复用、易扩展、易维护</p> <ul><li>封装：面向对象将数据和方法绑定在一起，通过对访问权限的控制，只允许外部调用类暴露的方法有限的访问数据，不向面向过程那些可以任意方法修改，更有利于维护</li> <li>抽象：我们知道函数本身也是抽象，隐藏了具体的实现。从这一点来说面向过程和面向对象都是支持的，但是面向对象的编程还提供了其他抽象方式，例如基于接口实现的抽象，可以让我们不改变原有实现的情况下轻松替换新的实现逻辑，提高可扩展性</li> <li>继承：可以将两个类公共的方法，抽取到父类，并让两个字类继承父类，提高代码的复用性</li> <li>多态：</li></ul></li> <li><p>OOP 语言更加人性化、更加高级、更加智能</p> <ul><li>在语言的发展历史中，当使用二进制指令、汇编语言、面向过程编程语言时，我们在思考，如何设计一组指令，告诉机器去执行，操作某些数据，完成我们任务</li> <li>而面向对象编程时，我们在思考，如何给业务建模，如何将真实世界映射为类或对象，这让我们更聚焦在业务本身，而不是思考如何跟机器打交道。更加人性化、更加高级、更加智能。</li></ul></li></ul> <h3 id="这些代码看似时面向对象实际是面向过程"><a href="#这些代码看似时面向对象实际是面向过程" class="header-anchor">#</a> 这些代码看似时面向对象实际是面向过程</h3> <p>不是把所有代码都塞到类里，自然就是进行面向对象编程了。有的代码表面看是面向对象，本质却是面向过程。接下来结合实例分析一下，另外也思考两个问题：为什么我们容易写出这种代码？面向过程是否真的是无用武之地了？</p> <h4 id="滥用-getter、setter-方法"><a href="#滥用-getter、setter-方法" class="header-anchor">#</a> 滥用 getter、setter 方法</h4> <p>有时候我们定义属性，就顺手把这些属性的 getter、setter 都定义上。这些方法可能以后会用上，并且也无伤大雅。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> hobbyList<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> options<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token punctuation">}</span>
  <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token punctuation">}</span>
  <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token punctuation">}</span>
  <span class="token function">setAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age <span class="token punctuation">}</span>
  <span class="token function">getHobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span> hobbyList <span class="token punctuation">}</span>
  <span class="token function">addHobby</span><span class="token punctuation">(</span>hobby<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hobbyList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>hobby<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>面向对象封装的定义是：通过访问权限控制，隐藏内部数据，外部只能通过提供的方法进行访问、修改数据</li> <li>暴露不应该暴露的方法，明显违反面向对象的封装特性，相当于数据没有了访问控制，任何代码都可以访问修改它。<code>name</code>、<code>age</code> 都是 <code>private</code>，但是都定义了 <code>get</code>、<code>set</code> 导致可以随便修改。</li> <li>没有对返回的数据做任何防范，相当于不做限制。<code>getHobby</code> 返回一个 array，这样就可以直接通过 <code>push</code>、<code>pop</code> 等方法直接进行修改。</li></ul> <h4 id="滥用全局变量和全局方法"><a href="#滥用全局变量和全局方法" class="header-anchor">#</a> 滥用全局变量和全局方法</h4> <p>在面向对象编程风格中，数据和方法时通过类来组织的。滥用全局变量和全局方法，会违反这个风格。</p> <p>常见就是和配置相关的全局常量，和各种方法 Utils，这些方法一般和数据是分离的，是典型的面向过程风格。</p> <ul><li><strong>Constants 类</strong></li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Constants</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token constant">MAX_TOTAL</span> <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token constant">MIN_IDLE</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// 实际一般会这么写</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> Config <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">MAX_TOTAL</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  <span class="token constant">MIN_IDLE</span><span class="token operator">:</span> <span class="token number">20</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>把程序中所有用到的常量，都集中到这个 Constants 中不是一个好思路：</p> <ul><li>降低可维护性：所有人都修改这个类，后面找起来费劲，也容易冲突</li> <li>增加代码编译时间：包含很多变量，依赖它的代码也就会很多。那么每次修改，都导致依赖的文件重新编译，需要更多时间</li> <li>影响复用性：就算我们只依赖一小部分变量，复用的时候还是需要把整个类引入</li></ul> <p>改进这个设计有两个思路：</p> <ul><li><p>将 Constants 拆分成更加单一的多个类：例如和打包配置相关的、和接口请求相关的</p></li> <li><p>另外一个更好的思路是内聚（看实际是否是多个地方用到了）：不单独设计 Constants，而是哪个类用到某个变量，就把这个变量定义到这个类中，接口调用需要接口请求相关的配置，就把它定义到接口调用中，提高类设计的内聚性和代码复用。</p></li> <li><p><strong>Utils</strong></p></li></ul> <p>Utils 出现的背景是，我们有两个类 A 和 B，都用到一块相同的功能，为了避免代码重复，我们不应该在两个类中重复实现。</p> <p>这个时候怎么办？也需要我们想到了继承，把这个方法定义到父类中，但是 A、B 与父类在业务上可能不是继承关系！这样设计不合理。</p> <p>所以自然而然的我们就把它定义为 Utils 了。这虽然是彻彻底底的面向过程编程，但是并不是我们要杜绝 Utils 类了。<strong>面向对象编程并不完全排斥面向过程的代码</strong>。</p> <p>我们可以改进一下：</p> <ul><li>定义 Utils，问一下自己是否真的需要，如果是就大胆使用</li> <li>类比 Constants 做拆分：FileUtils、StringUtils</li></ul> <h4 id="定义数据和方法分离的类"><a href="#定义数据和方法分离的类" class="header-anchor">#</a> 定义数据和方法分离的类</h4> <p>这么明显谁会这样写呢？</p> <p>传统的 MVC 结构分为 Model 层、Controller 层、View 层这三层。在做前后端分离之后，在后端开发中会稍微有些调整，被分为 Controller 层、Service 层、Repository 层。</p> <ul><li>Controller：负责暴露接口给前端</li> <li>Service ：负责核心业务逻辑</li> <li>Repository ：负责数据读写</li></ul> <p>而在每一层中会相应定义 VO（View Object）、BO（Business Object）、Entity。一般情况下 VO、BO、Entity 只定义数据不会定义方法，所有操作这些数据的逻辑都定义在对应的 Controller 类、Service 类、Repository 中。</p> <p>这就是典型的面向过程风格，实际上这种模式叫基于<strong>贫血模型</strong>的开发模式。</p> <p class="nx-tip question">
  贫血模型？
</p> <h4 id="为什么在面向对象编程中容易写出面向过程的代码"><a href="#为什么在面向对象编程中容易写出面向过程的代码" class="header-anchor">#</a> 为什么在面向对象编程中容易写出面向过程的代码</h4> <p>主要原因有两个：</p> <ul><li>面向过程更符合我们的思维：回想一下，生活中我们要完成一个任务，总会思考先做什么、在做什么，通过一系列顺序执行的操作，完成这个任务。这种面向过程的风格非常符合我们思维，而面向对象则是<strong>自底向上</strong>，不按照流程分解任务，而是将任务拆分成模块（类），最后再组装。</li> <li>面向对象编程更难：面向对象编程类设计需要技巧，也需要经验。需要思考如何封装数据、设计类和类之间的关系等</li></ul> <p>所以平台开发中，我们容易不由自主的写出面向过程的风格。</p> <h4 id="面向过程完全没用了么"><a href="#面向过程完全没用了么" class="header-anchor">#</a> 面向过程完全没用了么</h4> <p>不是抵制面向过程。</p> <ul><li>面向过程编程是面向对象编程的基础，面向对象编程离不开基础的面向过程编程。为什么这么说？仔细想想，类中每个方法的实现逻辑，不就是面向过程风格的代码吗？</li> <li>面向对象和面向过程两种编程风格，不是非黑即白、完全对立的。一些标准开发库（JDK）也有面向过程代码。</li> <li>最终的目的还是写出易维护、易读、易复用、易扩展的高质量代码，在掌控范围内，使用哪种都可以。</li></ul> <h2 id="接口和抽象类"><a href="#接口和抽象类" class="header-anchor">#</a> 接口和抽象类</h2> <p>接口和抽象类是面向对象和很多设计模式、设计原则编程实现的基础。</p> <h3 id="它们是什么区别在哪里"><a href="#它们是什么区别在哪里" class="header-anchor">#</a> 它们是什么区别在哪里</h3> <h4 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h4> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> options<span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
  <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'学生的编号是'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 不实现任何代码，子类实现</span>
  <span class="token keyword">abstract</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token builtin">number</span> <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'学生的编号是'</span> <span class="token operator">+</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token builtin">number</span> <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">say</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'老师的编号是'</span> <span class="token operator">+</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>通过上面的例子，总结抽象类具有三个特性：</p> <ul><li>抽象类不能被实例化，只能被继承。也就是说你不能去 new 一个抽象类出来，会报错（内部抽象的方法等都是没有实现的，不能执行）</li> <li>抽象类可以包含属性和方法。方法既可以包含代码实现（例如 <code>write</code>），也可以不包含代码实现（例如 <code>say</code>）</li> <li>子类继承抽象类，必须实现抽象类中的所有抽象方法。对立例子，子类都需要实现 <code>say</code> 方法。</li></ul> <h3 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Pingable</span> <span class="token punctuation">{</span>
  <span class="token function">ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Sonar</span> <span class="token keyword">implements</span> <span class="token class-name">Pingable</span> <span class="token punctuation">{</span>
  <span class="token function">ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;ping!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>通过 <code>interface</code> 定义一个 <code>Pingable</code> 接口，<code>Sonar</code> 是接口的实现类，实现了 <code>ping</code> 功能。</p> <p>通过上面的例子，总结接口具有三个特性：</p> <ul><li>方法不能包含代码实现</li> <li>类实现接口的时候，必须实现接口中生命的所有方法</li></ul> <h3 id="有什么区别"><a href="#有什么区别" class="header-anchor">#</a> 有什么区别</h3> <p>除了语法特性的区别，从设计的角度，两者区别也比较大：</p> <ul><li>抽象类实际上就是类，也表示 is-a：这种类比较特殊，它不能被实例化只能被继承。而继承是一种 is-a 的关系，所以抽象类也表示一种 is-a 的关系。</li> <li>相对来说，接口表示一种 has-a 关系：表示具有某项功能。对于接口，更形象的叫法是“协议”。</li></ul> <p>具体来说：</p> <blockquote><p>来自知乎<a href="https://www.zhihu.com/question/20149818/answer/150169365" target="_blank" rel="noopener noreferrer">接口和抽象的区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>接口的设计目的，<strong>是对类的行为进行约束</strong>（更准确的说是一种“有”约束，因为接口不能规定类不可以有什么行为），也就是提供一种机制，可以强制要求不同的类具有相同的行为。它只约束了行为的有无，但不对如何实现行为进行限制。对“接口为何是约束”的理解，觉得配合泛型食用效果更佳。</p> <p>抽象类的设计目的，<strong>是代码复用</strong>。当不同的类具有某些相同的行为(记为行为集合A)，且其中一部分行为的实现方式一致时（A的非真子集，记为B），可以让这些类都派生于一个抽象类。在这个抽象类中实现了B，避免让所有的子类来实现B，这就达到了代码复用的目的。而A减B的部分，留给各个子类自己实现。正是因为A-B在这里没有实现，所以抽象类不允许实例化出来（否则当调用到A-B时，无法执行）。</p> <h3 id="存在意义解决什么问题"><a href="#存在意义解决什么问题" class="header-anchor">#</a> 存在意义解决什么问题</h3> <h4 id="抽象类解决的问题"><a href="#抽象类解决的问题" class="header-anchor">#</a> 抽象类解决的问题</h4> <p>抽象类不能实例化，只能被继承。而继承能解决代码复用的问题。所以，抽象类也是为代码复用而生的。不过继承不一定要求父类是抽象类，不过抽象类还有另外一个意义：使用多态，我们实现各自的方法。</p> <h4 id="接口解决的问题"><a href="#接口解决的问题" class="header-anchor">#</a> 接口解决的问题</h4> <p>抽象更多是为了代码复用，而接口更侧重于解耦。</p> <p>接口是对行为的一种抽象，相当于一组协议。调用者只需关注抽象的接口，不需要了解具体实现，具体实现对调用者透明。<strong>接口实现了约定和实现相分离</strong>，可以降低代码耦合性，提高代码可扩展性。</p> <p>实际上，接口是一个比抽象类应用更加广泛、更加重要的知识点。比如，我们经常提到的“<strong>基于接口而非实现编程</strong>”。</p> <h3 id="如何决定该用抽象类还是接口"><a href="#如何决定该用抽象类还是接口" class="header-anchor">#</a> 如何决定该用抽象类还是接口</h3> <p>这个问题现在就很简单了：</p> <ul><li>如果我们要表示一种 is-a 的关系，并且为了解决代码复用问题，就用抽象类。</li> <li>如果表示一种 has-a 的关系，并且为了解决抽象而非代码代码复用的问题，就可以使用接口。</li></ul> <p>从类继承层次来看，抽象类是一种自下而上的设计思路，现有子类的代码重复，然后在抽象为父类（也就是抽象类）。接口正好相反，它是自上而下的设计思路，编程的时候一般先设计接口，再去考虑具体实现。</p> <h2 id="为什么基于接口而非实现编程"><a href="#为什么基于接口而非实现编程" class="header-anchor">#</a> 为什么基于接口而非实现编程</h2> <p>“基于接口而非实现编程”是一种提高代码质量的有效手段，为了更好理解这条原则，结合实例来分析。</p> <h3 id="如何理解原则中的-接口"><a href="#如何理解原则中的-接口" class="header-anchor">#</a> 如何理解原则中的“接口”</h3> <blockquote><p>“基于接口而非实现编程”的英文描述是“Program to an interface, not an implementation”。</p></blockquote> <p>它是一条比较抽象、泛化的设计思想，不和任何编程语言挂钩。</p> <p>我们知道“接口”是一组协议或者约定。在不同场景下有不同解读，比如服务端和客户端的“接口”、甚至一组通信协议都可以叫做“接口”。这些和实际代码离得有点远，落实到编程，<strong>“基于接口而非实现编程”中的接口，可以理解为编程语言中的接口或抽象类。</strong></p> <p><strong>应用这条原则，可以将接口和实现相分离，封装不稳定的功能，暴露稳定的接口。不依赖于不稳定的实现细节，这样当实现发生变化的时候，代码基本不用做改动，以此降低耦合性，提高扩展性。</strong></p> <p>实际上，“面向接口而非实现编程”另一种手法是“面向抽象而非实现编程”。</p> <p>软件开发的最大的挑战就是需求的不断变化，<strong>越抽象、越顶层、越脱离具体某一实现的设计，越能提高代码的灵活性，越能应对未来的需求变化</strong>。好的代码设计，不仅能满足当下的需求，而且在未来的需求变化的时候，仍然能够在不破坏原有代码设计的情况下灵活应对。</p> <h3 id="如何应用到实战中"><a href="#如何应用到实战中" class="header-anchor">#</a> 如何应用到实战中</h3> <p>通过一个例子来说明</p> <h4 id="需求背景"><a href="#需求背景" class="header-anchor">#</a> 需求背景</h4> <p>我们系统涉及到图片处理和存储的业务逻辑：图片经过处理之后上传到阿里云。</p> <h4 id="代码实现"><a href="#代码实现" class="header-anchor">#</a> 代码实现</h4> <p>为了复用代码，我们封装图片处理的相关逻辑，提供一个 AliyunImageStore 类给整个系统使用。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>
<span class="token keyword">class</span> <span class="token class-name">AliyunImageStore</span> <span class="token punctuation">{</span>
  <span class="token comment">// 省略属性</span>

  <span class="token function">createBucketIfNotExisting</span><span class="token punctuation">(</span>bucketName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建 bucket 相关逻辑...</span>
  <span class="token punctuation">}</span>

  <span class="token function">generateAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 根据 accesskey 等生成 access token...</span>
  <span class="token punctuation">}</span>

  <span class="token function">uploadToAliyun</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> bucketName<span class="token operator">:</span> stirng<span class="token punctuation">,</span> accessToken<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 上传到阿里云...</span>
  <span class="token punctuation">}</span>

  <span class="token function">downloadFromAliyun</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> accessToken<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 从阿里云下载...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 业务使用</span>

<span class="token keyword">function</span> <span class="token function">imageProcessing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">BUCKET_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;images_bucket&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 处理图片并封装层 image 对象</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span> 

  <span class="token keyword">const</span> imageStore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AliyunImageStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 创建 bucket</span>
  imageStore<span class="token punctuation">.</span><span class="token function">createBucketIfNotExisting</span><span class="token punctuation">(</span><span class="token constant">BUCKET_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 生成 token</span>
  <span class="token keyword">const</span> accessToken <span class="token operator">=</span> imageStore<span class="token punctuation">.</span><span class="token function">generateAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 上传图片</span>
  imageStore<span class="token punctuation">.</span><span class="token function">uploadToAliyun</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token constant">BUCKET_NAME</span><span class="token punctuation">,</span> accessToken<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>整个流程分成三步：创建 bucket、生成 access token 访问凭证、携带 token 将图片上传到 bucket 中。</p> <h4 id="存在的问题"><a href="#存在的问题" class="header-anchor">#</a> 存在的问题</h4> <p>上面的实现，可以满足我们的需求看起来没太大问题。</p> <p>但是软件开发唯一不变的就是变化，过一段时间之后，我们自建了私有云，图片不再存储到阿里云了而是自己的私有云。为了应对这个需求我们怎么处理呢？</p> <p>我们需要重新设计一个 <code>PrivateImageStore</code> 类，并用它替换 <code>AliyunImageStore</code>。这样修改听起来不复杂，只是简单替换而已，对整个代码改动不大。</p> <p><strong>“细节是魔鬼”，前面的设计就容易出现很多细节问题</strong>。新的类应该怎么设计才能尽量最小化代码改动替换 <code>AliyunImageStore</code> 呢？这就要求我们需要实现 <code>AliyunImageStore</code> 所有 public 方法，而这样做就会存在一些问题：</p> <ul><li><code>AliyunImageStore</code> 中函数名暴露了实现细节。比如 <code>uploadToAliyun()</code> 和 <code>downloadFromAliyun()</code>，如果把这些方法名称照搬到 <code>PrivateImageStore</code> 明显不合适。如果重新命名，那就意味，要修改代码中所有用到这两个方法的代码，修改量可能很大。</li> <li>其次，将图片存储到阿里云的流程，跟存储到私有云的流程，可能并不是完全一致的。比如上传私有云不需要 access token，那么 <code>generateAccessToken</code> 就不能照搬到新的类中，另外我们在使用 <code>AliyunImageStore</code> 上传时用到了 <code>generateAccessToken</code>，这些地方都需要调整。</li></ul> <h4 id="如何更好设计"><a href="#如何更好设计" class="header-anchor">#</a> 如何更好设计</h4> <p>如何解决前面的问题呢？根本方法就是我们在写代码的时候，需要遵循“基于接口而非实现编程”原则，具体来说需要做到这 3 点：</p> <ul><li>函数的命名不能暴露任何实现细节。uploadToAliyun() =&gt; upload()，改为更抽象的名字</li> <li>封装具体的实现细节。比如阿里云相关特殊流程不应该暴露给调用者，对上传/下载流程进行封装，对外提供一个包裹所有上传/下载功能的方法</li> <li>为实现类定义抽象的接口。具体的实现类都依赖统一的接口定义，遵从一致的上传功能协议。使用者依赖接口，而不是具体的实现类来编程。</li></ul> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ImageStore</span> <span class="token punctuation">{</span> 
  <span class="token function">upload</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> bucketName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function">download</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AliyunImageStore</span> <span class="token keyword">implements</span> <span class="token class-name">ImageStore</span> <span class="token punctuation">{</span>
  
  <span class="token keyword">private</span> <span class="token function">createBucketIfNotExisting</span><span class="token punctuation">(</span>bucketName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建 bucket 相关逻辑...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">generateAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 根据 accesskey 等生成 access token...</span>
  <span class="token punctuation">}</span>

  <span class="token function">upload</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> bucketName<span class="token operator">:</span> stirng<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createBucketIfNotExisting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> accessToken <span class="token operator">=</span> <span class="token function">generateAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 上传到阿里云...</span>
  <span class="token punctuation">}</span>

  <span class="token function">download</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> accessToken<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> accessToken <span class="token operator">=</span> <span class="token function">generateAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 从阿里云下载...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">PrivateImageStore</span> <span class="token keyword">implements</span> <span class="token class-name">ImageStore</span> <span class="token punctuation">{</span>
  
  <span class="token keyword">private</span> <span class="token function">createBucketIfNotExisting</span><span class="token punctuation">(</span>bucketName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建 bucket 相关逻辑...</span>
  <span class="token punctuation">}</span>

  <span class="token function">upload</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> bucketName<span class="token operator">:</span> stirng<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createBucketIfNotExisting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 上传到阿里云...</span>
  <span class="token punctuation">}</span>

  <span class="token function">download</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> accessToken<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> accessToken <span class="token operator">=</span> <span class="token function">generateAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 从阿里云下载...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 业务使用</span>

<span class="token keyword">function</span> <span class="token function">imageProcessing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">BUCKET_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;images_bucket&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 处理图片并封装层 image 对象</span>
  <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span> 

  <span class="token comment">// 不关注流程只关注功能</span>
  <span class="token keyword">const</span> imageStore <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrivateImageStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  imageStore<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token constant">BUCKET_NAME</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p>注意，我们不要通过实现类来反推接口定义，按照这个思路，就可能导致定义的接口不够抽象，依赖具体实现，这样设计也就没有意义了。</p> <p class="nx-tip warning">
  总结一下，我们在做软件开发的时候，一定要有抽象意识、封装意识、接口意识。在定义接口的时候，不要暴露任何实现细节。接口的定义只表明做什么，而不是怎么做。而且，在设计接口的时候，我们要多思考一下，这样的接口设计是否足够通用，是否能够做到在替换具体的接口实现的时候，不需要任何接口定义的改动。
</p> <h3 id="是否需要为每个类都定义接口"><a href="#是否需要为每个类都定义接口" class="header-anchor">#</a> 是否需要为每个类都定义接口</h3> <p>做任何事都得有个“度”，为任何类都定义接口，接口满天飞也会导致不必要的开发负担。</p> <p>什么时候需要定义接口呢？这就回到这条原则的初衷上来。这条原则的设计初衷是，将接口和实现相分离，封装不稳定的实现，暴露稳定的接口。</p> <p>如果在我们的业务场景中，某个功能只有一种实现方式，未来也不可能被其他实现方式替换（需要对业务理解才能准确判断），那我们就没有必要为其设计接口，也没有必要基于接口编程，直接使用实现类就可以了。</p> <p>除此之外，越是不稳定的系统，我们越是要在代码的扩展性、维护性上下功夫。</p> <h2 id="为什么多用组合少用继承"><a href="#为什么多用组合少用继承" class="header-anchor">#</a> 为什么多用组合少用继承</h2> <p>面向对象中有一条经典原则是组合优于继承，为什么这么说呢？</p> <h3 id="为什么不推荐继承"><a href="#为什么不推荐继承" class="header-anchor">#</a> 为什么不推荐继承</h3> <p>继承是面向对象的四大特性之一，用来表示类之间的 is-a 关系，可以解决代码复用的问题。虽然继承有诸多作用，<strong>但继承层次过深、过复杂，也会影响到代码的可维护性</strong>。</p> <p>所以是否使用继承，容易有争议。通过一个例子来看一下</p> <p>我们设计一个关于鸟的类，将“鸟类”抽象定义为一个抽象类 AbstractBird。这样细分的麻雀、鸽子继承这个类。</p> <ul><li>我们知道大部分鸟类都会飞，那我们是不是可以在 AbstractBird 中定一个 fly 方法？</li></ul> <p>答案是否定的。尽管大部分会飞，但是也有特例比如鸵鸟就不会飞。鸵鸟继承之后就有 fly 方法，代表具有飞的行为，显然不符合我们的认知。</p> <p>当然，你可能想到，在鸵鸟类中重写（override）fly 方法，让它抛出异常不就可以了吗？</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>
<span class="token keyword">class</span> <span class="token class-name">AbstractBird</span> <span class="token punctuation">{</span> 
  <span class="token comment">// 省略其他属性和方法... </span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//... </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Ostrich</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBird</span> <span class="token punctuation">{</span>
  <span class="token comment">// 省略其他属性和方法...</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Can't fly&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>可以解决问题，但不优美。因为除了鸵鸟，还有很多鸟（企鹅等）也不会飞，就会导致我们都需要重写这个方法。</p> <p>这样的设计，<strong>一方面，徒增编码工作量；另一方面，也违背的最小知识原则，暴露不该暴露的接口给外部，增加被误用的概率</strong>。</p> <ul><li>那是不是可以拆分成更加细分的抽象类呢？</li></ul> <p>为了解决前面的问题，我们还可以派生出更加细分的类：会飞的鸟类 AbstractFlyBird 和不会飞的鸟类 AbstractUnFlyBird，然后让不同鸟类分别继承，不就可以了么？</p> <p><img src="/reading-notes/assets/img/object-oriented-extents.bfe20ae1.png" alt="细分类"></p> <p>继承关系变成三层，总体上还比较简单，层级比较浅还可以接受。</p> <p>但是刚才我们只是考虑“鸟会不会飞”，如果我们还关注“鸟会不会叫”，那么如何设计呢？</p> <p>是否会飞？是否会叫？这两种行为搭配可以产生四种情况：会飞会叫、不会飞会叫、会飞不会叫、不会飞不会叫。沿用前面的思路，那就需要抽象定义 4 个类</p> <p><img src="/reading-notes/assets/img/object-oriented-extends-category.ec6375ce.png" alt="更多细分类"></p> <p>如果还有其他场景，组合爆炸了。类的继承越深，继承关系越复杂：</p> <ul><li>会导致代码可读性变差：我们要搞清楚某个类具有哪些方法、属性，必须阅读父类的代码、父类的父类的方法...，一致追溯到顶层父类</li> <li>破坏类的封装性，将父类的实现细节暴露给了子类。子类的实现依赖父类的实现，两者高度耦合，一旦父类代码修改，就会影响所有子类的逻辑。</li></ul> <p>这也是为什么不推荐使用继承的原因，那不用继承怎么解决上面的问题呢？</p> <h3 id="换组合来做有什么优势"><a href="#换组合来做有什么优势" class="header-anchor">#</a> 换组合来做有什么优势</h3> <p>我们可以通过接口、组合、委托三个技术手段来解决这个问题。</p> <ul><li>定义接口</li></ul> <p>针对这种“会飞”的特性，我们可以定义一个 Flya 接口，对于“会叫”也可以定义 Tweet 类，翻译成代码就是：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Fly</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Tweet</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 鸵鸟</span>
<span class="token keyword">class</span> <span class="token class-name">Ostrich</span> <span class="token keyword">implements</span> <span class="token class-name">Fly</span><span class="token punctuation">,</span> Tweet <span class="token punctuation">{</span>
  <span class="token function">flay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token function">tweet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">//... </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Sparrow</span> <span class="token keyword">implements</span> <span class="token class-name">Tweet</span> <span class="token punctuation">{</span>
  <span class="token function">tweet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">//... </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>不过接口，指声明方法不定义实现。不过这样会导致会叫的鸟都需要实现一遍 tweet 方法，并且逻辑是一样的，就会导致代码重复，如何解决呢？</p> <ul><li>组合功能委托方法</li></ul> <p>可以针对接口再定义对应实现类：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Fly</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Tweet</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">FlyAbility</span> <span class="token keyword">implements</span> <span class="token class-name">Fly</span> <span class="token punctuation">{</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">TweetAbility</span> <span class="token keyword">implements</span> <span class="token class-name">Fly</span> <span class="token punctuation">{</span>
  <span class="token function">tweet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">//... </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这样再通过组合和委托来消除代码重复：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>
<span class="token keyword">class</span> <span class="token class-name">Ostrich</span> <span class="token keyword">implements</span> <span class="token class-name">Fly</span><span class="token punctuation">,</span> Tweet <span class="token punctuation">{</span>
  <span class="token comment">// 组合</span>
  <span class="token keyword">private</span> flyAbility <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlyAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> tweetAbility <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TweetAbility</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// 委托</span>
  <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> flyAbility<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">tweet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> tweetAbility<span class="token punctuation">.</span><span class="token function">tweet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>继承主要有三个作用：表示 is-a 关系，支持多态特性，代码复用。而这三个作用都可以通过组合、接口、委托三个技术手段来达成。在项目中不用或者少用继承关系，特别是一些复杂的继承关系。</p> <h3 id="如何判断该用组合还是继承"><a href="#如何判断该用组合还是继承" class="header-anchor">#</a> 如何判断该用组合还是继承</h3> <p>尽管建议多用组合少用继承，但是组合也并不是完美的。继承改写为组合意味着做更细粒度的拆分，这也意味着要定义更多的类和接口，或多或少增加代码复杂度和维护成本。所以在实际开发中要根据实际情况来决定使用组合还是继承。</p> <p><strong>如果类之间的继承结构稳定（不会轻易改变），继承层次比较浅（比如，最多有两层继承关系），继承关系不复杂，我们就可以大胆地使用继承。反之，系统越不稳定，继承层次很深，继承关系复杂，我们就尽量使用组合来替代继承。</strong></p> <p>不要为了代码复用就使用继承。通常我们会利用继承的特性，把相同的方法和属性抽取出来定义到父类，然后子类就可以复用了。但是如果从业务含以上， A 和 B <strong>没有继承关系</strong>，仅仅为了复用代码而使用继承的话就会影响可读性。</p> <p>但是如果你不能改变一个函数的入参类型，而参数又非接口，支持多态，只能用继承。比如 <code>FeignClient</code> 是一个外部类，没有权限去修改这部分代码，但是想重写这个类在运行时执行 <code>encode()</code> 函数。这个时候只能用继承</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">FeignClient</span> <span class="token punctuation">{</span>
  <span class="token comment">// 省略其他代码...</span>
  <span class="token function">encode</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">CustomizedFeignClient</span> <span class="token keyword">extends</span> <span class="token class-name">FeignClient</span> <span class="token punctuation">{</span>
  <span class="token function">encode</span><span class="token punctuation">(</span>String url<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">//...重写encode的实现...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/niexia/reading-notes/edit/main/docs/the-beauty-of-design-patterns/object-oriented/what-is-object-oriented.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">April 5, 2022 14:32</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: yangjin.im@bytedance.com" class="contributor">
          杨金
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/reading-notes/the-beauty-of-design-patterns/object-oriented/practice/">
        实战
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!----><!----></div></div>
    <script src="/reading-notes/assets/js/app.345870b4.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Layout.783be478.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b90199b.js" defer></script><script src="/reading-notes/assets/js/page-面向对象是什么.920ffeff.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.c1acbf4e.js" defer></script><script src="/reading-notes/assets/js/71.57253716.js" defer></script>
  </body>
</html>
