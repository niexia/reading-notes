<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tire 树 | Reading Notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/reading-notes/favicon.ico">
    <link rel="manifest" href="/reading-notes/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="写点啦!">
    <meta property="og:url" content="/reading-notes/algo/Tire-tree/Tire-tree.html">
    <meta property="og:site_name" content="Reading Notes">
    <meta property="og:title" content="Tire 树">
    <meta property="og:description" content="Tire 树 为了方便输入，当你在搜索引擎的搜索框中，输入要搜索的文字的某一部分，搜索引擎就会自动弹出下拉框，里面是各种关键词提示。然后可以直接选择，而不必输入所有内容。 它是怎么实现的呢？底层使用的是那种数据结构和算法呢？ 这些搜索引擎的关键词提示功能肯定做了很多优化，但是底层最基本的就是 Tire 树这种数据结构。 什么是 Tire 树 Tire 树，也">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Reading Notes">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/reading-notes/assets/css/0.styles.9772cc4e.css" as="style"><link rel="preload" href="/reading-notes/assets/js/app.8bb7ee81.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Layout.b9c2e4d9.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b90199b.js" as="script"><link rel="preload" href="/reading-notes/assets/js/page-Tire树.51dac316.js" as="script"><link rel="preload" href="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.c1acbf4e.js" as="script"><link rel="prefetch" href="/reading-notes/assets/js/3.832dc784.js"><link rel="prefetch" href="/reading-notes/assets/js/73.ab0e76f6.js"><link rel="prefetch" href="/reading-notes/assets/js/74.668f8b56.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Blog.5eb9853e.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Layout.ea688dcf.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-NotFound.4b7d9d39.js"><link rel="prefetch" href="/reading-notes/assets/js/layout-Slide.82e33c92.js"><link rel="prefetch" href="/reading-notes/assets/js/page--25410731.60d18da4.js"><link rel="prefetch" href="/reading-notes/assets/js/page--3992e0e1.35fb3708.js"><link rel="prefetch" href="/reading-notes/assets/js/page--44a0de64.52f28ad0.js"><link rel="prefetch" href="/reading-notes/assets/js/page--4855b8f6.bae76056.js"><link rel="prefetch" href="/reading-notes/assets/js/page--5f87f751.6b55c4b9.js"><link rel="prefetch" href="/reading-notes/assets/js/page--7507ab0e.99dff375.js"><link rel="prefetch" href="/reading-notes/assets/js/page--ac2b465e.f7160225.js"><link rel="prefetch" href="/reading-notes/assets/js/page--d1e0c466.2b1910d0.js"><link rel="prefetch" href="/reading-notes/assets/js/page-BF算法和RK算法.a662a423.js"><link rel="prefetch" href="/reading-notes/assets/js/page-DRY.ada6b95f.js"><link rel="prefetch" href="/reading-notes/assets/js/page-KISS.b6f299c9.js"><link rel="prefetch" href="/reading-notes/assets/js/page-LOD.8589db1b.js"><link rel="prefetch" href="/reading-notes/assets/js/page-SOLID.173a911a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-YAGNI.0b205f1a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-专业主义.257b25f6.js"><link rel="prefetch" href="/reading-notes/assets/js/page-为什么要用金字塔原理.077e9f45.js"><link rel="prefetch" href="/reading-notes/assets/js/page-为什么需要学习掌握设计模式相关知识.6200cf77.js"><link rel="prefetch" href="/reading-notes/assets/js/page-了解架构设计.6b953858.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二分查找.1e1cbd65.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二分查找的变形.54336bf2.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二叉查找树.88f76603.js"><link rel="prefetch" href="/reading-notes/assets/js/page-二叉树.001fd545.js"><link rel="prefetch" href="/reading-notes/assets/js/page-介绍.cedc487b.js"><link rel="prefetch" href="/reading-notes/assets/js/page-从0开始学架构.a1221b62.js"><link rel="prefetch" href="/reading-notes/assets/js/page-代码整洁之道-程序员的职业素养.f3d2f19b.js"><link rel="prefetch" href="/reading-notes/assets/js/page-冒泡、插入和选择排序.49e78e9a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-分治算法.748ece70.js"><link rel="prefetch" href="/reading-notes/assets/js/page-前言.98967410.js"><link rel="prefetch" href="/reading-notes/assets/js/page-动态规划.fd388d03.js"><link rel="prefetch" href="/reading-notes/assets/js/page-单例模式.303b9f99.js"><link rel="prefetch" href="/reading-notes/assets/js/page-哈希算法.d8dcf231.js"><link rel="prefetch" href="/reading-notes/assets/js/page-回溯算法.5fad58a3.js"><link rel="prefetch" href="/reading-notes/assets/js/page-图.1c6f525a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-堆.b12487c2.js"><link rel="prefetch" href="/reading-notes/assets/js/page-堆的应用.150377cd.js"><link rel="prefetch" href="/reading-notes/assets/js/page-实战.9d68d105.js"><link rel="prefetch" href="/reading-notes/assets/js/page-工厂模式.481119e5.js"><link rel="prefetch" href="/reading-notes/assets/js/page-归并排序和快速排序.03ee5692.js"><link rel="prefetch" href="/reading-notes/assets/js/page-手写链表的技巧.7456b309.js"><link rel="prefetch" href="/reading-notes/assets/js/page-排序.88075437.js"><link rel="prefetch" href="/reading-notes/assets/js/page-排序优化.972c8463.js"><link rel="prefetch" href="/reading-notes/assets/js/page-散列表.e802efed.js"><link rel="prefetch" href="/reading-notes/assets/js/page-数组.bba08247.js"><link rel="prefetch" href="/reading-notes/assets/js/page-栈.c9f3e88a.js"><link rel="prefetch" href="/reading-notes/assets/js/page-桶排序、计数排序和基数排序.d0db807d.js"><link rel="prefetch" href="/reading-notes/assets/js/page-深度优先和广度优先搜索.7876bb70.js"><link rel="prefetch" href="/reading-notes/assets/js/page-硅谷钢铁侠.9b674b29.js"><link rel="prefetch" href="/reading-notes/assets/js/page-系统复杂度的来源.ee896c59.js"><link rel="prefetch" href="/reading-notes/assets/js/page-红黑树.4fa0a43f.js"><link rel="prefetch" href="/reading-notes/assets/js/page-练习.1e442784.js"><link rel="prefetch" href="/reading-notes/assets/js/page-设计散列表.248e6354.js"><link rel="prefetch" href="/reading-notes/assets/js/page-说不.4525b60d.js"><link rel="prefetch" href="/reading-notes/assets/js/page-说是.6043cd86.js"><link rel="prefetch" href="/reading-notes/assets/js/page-贪心算法.72be82ef.js"><link rel="prefetch" href="/reading-notes/assets/js/page-跳表.bbe21187.js"><link rel="prefetch" href="/reading-notes/assets/js/page-递归.983254a3.js"><link rel="prefetch" href="/reading-notes/assets/js/page-重构.fe063ed3.js"><link rel="prefetch" href="/reading-notes/assets/js/page-金字塔原理.75c9d90e.js"><link rel="prefetch" href="/reading-notes/assets/js/page-链表.b517bfd4.js"><link rel="prefetch" href="/reading-notes/assets/js/page-队列.8176978c.js"><link rel="prefetch" href="/reading-notes/assets/js/page-面向对象是什么.57a1b465.js"><link rel="prefetch" href="/reading-notes/assets/js/vendors~photo-swipe.5aab1745.js">
    <link rel="stylesheet" href="/reading-notes/assets/css/0.styles.9772cc4e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/reading-notes/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">Reading Notes</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title"><!---->
        目录
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🧑🏻‍💻 技术</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/algo/" class="nav-link router-link-active active"><!---->
  数据结构和算法之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-beauty-of-design-patterns/" class="nav-link"><!---->
  设计模式之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/learn-architecture-from-zero/" class="nav-link"><!---->
  从0开始学架构
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-clean-coder/" class="nav-link"><!---->
  代码整洁之道|程序员的职业素养
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🎯 综合能力</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/the-minto-pyramid-principle/" class="nav-link"><!---->
  金字塔原理
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🥤 人物传记</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/elon-musk/" class="nav-link"><!---->
  硅谷钢铁侠
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/niexia/reading-notes" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="目录" class="dropdown-title"><span class="title"><!---->
      目录
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🧑🏻‍💻 技术</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/algo/" class="nav-link router-link-active active"><!---->
  数据结构和算法之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-beauty-of-design-patterns/" class="nav-link"><!---->
  设计模式之美
</a></li><li class="dropdown-subitem"><a href="/reading-notes/learn-architecture-from-zero/" class="nav-link"><!---->
  从0开始学架构
</a></li><li class="dropdown-subitem"><a href="/reading-notes/the-clean-coder/" class="nav-link"><!---->
  代码整洁之道|程序员的职业素养
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🎯 综合能力</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/the-minto-pyramid-principle/" class="nav-link"><!---->
  金字塔原理
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>🥤 人物传记</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/reading-notes/elon-musk/" class="nav-link"><!---->
  硅谷钢铁侠
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a rel="noopener noreferrer" href="https://github.com/niexia/reading-notes" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">数据结构和算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reading-notes/algo/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/reading-notes/algo/array/array/" class="sidebar-link">数组</a></li><li><a href="/reading-notes/algo/linked-list/linked-list/" class="sidebar-link">链表</a></li><li><a href="/reading-notes/algo/linked-list/handwritten-linked-list-skills/" class="sidebar-link">手写链表的技巧</a></li><li><a href="/reading-notes/algo/stack/stack/" class="sidebar-link">栈</a></li><li><a href="/reading-notes/algo/recursion/recursion/" class="sidebar-link">递归</a></li><li><a href="/reading-notes/algo/sort/sort/" class="sidebar-link">排序</a></li><li><a href="/reading-notes/algo/sort/bubble-sort-insertion-sort-selection-sort/" class="sidebar-link">冒泡、插入和选择排序</a></li><li><a href="/reading-notes/algo/sort/merge-sort-quick-sort/" class="sidebar-link">归并排序和快速排序</a></li><li><a href="/reading-notes/algo/sort/bucket-sort-counting-sort-radix-sort/" class="sidebar-link">桶排序、计数排序和基数排序</a></li><li><a href="/reading-notes/algo/sort/sort-optimization/" class="sidebar-link">排序优化</a></li><li><a href="/reading-notes/algo/binary-search/binary-search/" class="sidebar-link">二分查找</a></li><li><a href="/reading-notes/algo/binary-search/deformation-of-binary-search/" class="sidebar-link">二分查找的变形</a></li><li><a href="/reading-notes/algo/skip-list/skip-list/" class="sidebar-link">跳表</a></li><li><a href="/reading-notes/algo/hash-table/hash-table/" class="sidebar-link">散列表</a></li><li><a href="/reading-notes/algo/hash-table/design-hash-table/" class="sidebar-link">设计散列表</a></li><li><a href="/reading-notes/algo/hash-algorithm/hash-algorithm/" class="sidebar-link">哈希算法</a></li><li><a href="/reading-notes/algo/binary-tree/binary-tree/" class="sidebar-link">二叉树</a></li><li><a href="/reading-notes/algo/binary-tree/binary-search-tree/" class="sidebar-link">二叉查找树</a></li><li><a href="/reading-notes/algo/binary-tree/red-black-tree/" class="sidebar-link">红黑树</a></li><li><a href="/reading-notes/algo/heap/heap-and-heap-sort/" class="sidebar-link">堆</a></li><li><a href="/reading-notes/algo/heap/application-of-heap/" class="sidebar-link">堆的应用</a></li><li><a href="/reading-notes/algo/graph/graph/" class="sidebar-link">图</a></li><li><a href="/reading-notes/algo/graph/bfs-dfs/" class="sidebar-link">深度优先和广度优先搜索</a></li><li><a href="/reading-notes/algo/string-matching/BF-RK/" class="sidebar-link">BF 算法和 RK 算法</a></li><li><a href="/reading-notes/algo/string-matching/BM/" class="sidebar-link">/algo/string-matching/BM/</a></li><li><a href="/reading-notes/algo/string-matching/KMP/" class="sidebar-link">/algo/string-matching/KMP/</a></li><li><a href="/reading-notes/algo/Tire-tree/Tire-tree/" aria-current="page" class="active sidebar-link">Tire 树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#什么是-tire-树" class="sidebar-link">什么是 Tire 树</a></li><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#实现-tire-树" class="sidebar-link">实现 Tire 树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#tire-树主要有两个操作" class="sidebar-link heading3">Tire 树主要有两个操作</a></li><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#经典的存储方式" class="sidebar-link heading3">经典的存储方式</a></li><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#实现构造和查询" class="sidebar-link heading3">实现构造和查询</a></li><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#tire-树是否真的耗内存" class="sidebar-link heading3">Tire 树是否真的耗内存</a></li></ul></li><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#tire-树与散列表、红黑树的比较" class="sidebar-link">Tire 树与散列表、红黑树的比较</a></li><li class="sidebar-sub-header"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/reading-notes/algo/greedy-algorithm/greedy-algorithm/" class="sidebar-link">贪心算法</a></li><li><a href="/reading-notes/algo/divide-and-conquer/divide-and-conquer/" class="sidebar-link">分治算法</a></li><li><a href="/reading-notes/algo/backtracking-algorithm/backtracking-algorithm/" class="sidebar-link">回溯算法</a></li><li><a href="/reading-notes/algo/dynamic-programming/dynamic-programming/" class="sidebar-link">动态规划</a></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/reading-notes/algo/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">介绍</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/reading-notes/algo/Tire-tree/Tire-tree/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">Tire 树</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Tire 树</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2022-5-29</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 9 min</span> <meta property="timeRequired" content="PT9M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#什么是-tire-树" class="anchor-link heading2"><div>什么是 Tire 树</div></a></li><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#实现-tire-树" class="anchor-link heading2"><div>实现 Tire 树</div></a></li><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#tire-树主要有两个操作" class="anchor-link heading3"><div>Tire 树主要有两个操作</div></a></li><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#经典的存储方式" class="anchor-link heading3"><div>经典的存储方式</div></a></li><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#实现构造和查询" class="anchor-link heading3"><div>实现构造和查询</div></a></li><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#tire-树是否真的耗内存" class="anchor-link heading3"><div>Tire 树是否真的耗内存</div></a></li><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#tire-树与散列表、红黑树的比较" class="anchor-link heading2"><div>Tire 树与散列表、红黑树的比较</div></a></li><li class="anchor"><a href="/reading-notes/algo/Tire-tree/Tire-tree/#总结" class="anchor-link heading2"><div>总结</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="tire-树"><a href="#tire-树" class="header-anchor">#</a> Tire 树</h1> <p>为了方便输入，当你在搜索引擎的搜索框中，输入要搜索的文字的某一部分，搜索引擎就会自动弹出下拉框，里面是各种关键词提示。然后可以直接选择，而不必输入所有内容。</p> <p><img src="/reading-notes/assets/img/dataStructure-tire-eg1.6d1322ea.png" alt="search completion"></p> <p>它是怎么实现的呢？底层使用的是那种数据结构和算法呢？</p> <p>这些搜索引擎的关键词提示功能肯定做了很多优化，但是底层最基本的就是 Tire 树这种数据结构。</p> <h2 id="什么是-tire-树"><a href="#什么是-tire-树" class="header-anchor">#</a> 什么是 Tire 树</h2> <p>Tire 树，也叫字典树。顾名思义，它是一种树形结构。这种数据结构专门处理字符串匹配，用来解决在一组字符串集合中快速查找某个字符串的问题。</p> <p><strong>Tire 树的本质，就是利用字符串之间的公共前缀，将重复的前缀组合在一起</strong>。</p> <p>举个例子，现在有 6 个字符串：how，hi，her，hello，so，see。我们希望在里面多次查找某个字符串是否存在。如果每次查找都是将要查找的字符串和这 6 个字符串匹配，那么效率就比较低了。有没有更高效的方法？</p> <p>这时候，可以先对这 6 个字符串做一下预处理，组织成 Tire 树的结构。之后每次查找，都是在 Tire 中进行匹配查找：</p> <p><img src="/reading-notes/assets/img/dataStructure-tire-eg2.df796e56.png" alt="tire"></p> <p>Tire 的构造过程如下，每一步都相当于往 Tire 树中插入一个字符串，所有字符串都插入完成之后，Tire 树就构造好了。</p> <p><img src="/reading-notes/assets/img/dataStructure-tire-eg3.5c72db1b.png" alt="tire"></p> <p>在 Tire 树中查找一个字符串的时候，比如查找“her”，先将它分割成单个字符串 h，e，r，然后从 Tire 树的根节点开始匹配。如果所示，绿色的路径就是在 Tire 树中的匹配路径。</p> <p><img src="/reading-notes/assets/img/dataStructure-tire-eg4.eb6ec344.png" alt="tire"></p> <p>如果要查找 “he”，方法还是一样的，如图所示，绿色路径就是“he”的匹配路径。但是有点不同，<strong>路径的最后一个节点“e”并不是红色的</strong>，也就是说，“he”是某个字符串的前缀，它并不能完全匹配任何字符串。</p> <p><img src="/reading-notes/assets/img/dataStructure-tire-eg5.12baf126.png" alt="tire"></p> <h2 id="实现-tire-树"><a href="#实现-tire-树" class="header-anchor">#</a> 实现 Tire 树</h2> <h3 id="tire-树主要有两个操作"><a href="#tire-树主要有两个操作" class="header-anchor">#</a> Tire 树主要有两个操作</h3> <ul><li>构造：将字符串集合构造成 Tire 树。这个过程拆开来看，就是将字符串插入 Tire 树的过程。</li> <li>查询：在 Tire 树中查询一个字符串。</li></ul> <p>从前面的图可以看出，Tire 树是一棵多叉树。在二叉树中，一个节点的左右子节点是通过两个指针来存储的，那在多叉树中，怎么存储一个节点的所有子节点的指针呢？</p> <h3 id="经典的存储方式"><a href="#经典的存储方式" class="header-anchor">#</a> 经典的存储方式</h3> <p>借助散列表的思想，<strong>通过一个下标与字符一一映射的数组，来存储子节点的指针</strong>。如下图：</p> <p><img src="/reading-notes/assets/img/dataStructure-tire-eg6.467a95ed.png" alt="tire"></p> <p>假设我们的字符串只有 a~z 这 26 个小写字母。那么，在数组下标为 0 的位置存储指向子节点 a 的指针，下标为 1 的位置存储指向子节点 b 的指针，以此类推，下标为 25 的位置存储指向子节点 z 的指针。如果某个节点不存在，那么就在对应的下标位置存储 null。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">TrieNode</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 每个下标位置存储的是指向对应子节点的指针</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="实现构造和查询"><a href="#实现构造和查询" class="header-anchor">#</a> 实现构造和查询</h3> <p>接下来，实现构造和查询。当我们在 Tire 树行查找字符串的时候，就可以通过字符的 ASCII 码减去“a”的 ASCII 码（得到的就是数组下标），迅速的找到匹配的子节点的指针。比如 d - a = 3，那子节点 d 的指针就存储在数组下标为 3 的位置。</p> <p>整个过程代码的实现为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">TrieNode</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isEndingChar <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">TrieTree</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 往 Trie 树中插入一个字符串</span>
  <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> char <span class="token keyword">of</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> char<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    node<span class="token punctuation">.</span>isEndingChar <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 在 Trie 树中查找一个字符串</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> char <span class="token keyword">of</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> char<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> node<span class="token punctuation">.</span>isEndingChar<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> strs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;how&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;her&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;so&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;see&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> str <span class="token keyword">of</span> strs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  tree<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> str <span class="token keyword">of</span> strs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p><strong>那么在 Tire 树中，查找某个字符串的时间复杂是多少？</strong></p> <p>如果要在一组字符串中，频繁地查询某些字符串，用 Trie 树会非常高效。</p> <p>构建 Trie 树的过程，需要扫描所有的字符串，时间复杂度是 <strong>O(n)（n 表示所有字符串的长度和</strong>）。但是一旦构建成功之后，后续的查询操作会非常高效。</p> <p>每次查询时，如果要查询的字符串长度是 k，那我们只需要比对大约 k 个节点，就能完成查询操作。跟原本那组字符串的长度和个数没有任何关系。所以说，构建好 Trie 树后，在其中查找字符串的时间复杂度是 <strong>O(k)</strong>，k 表示要查找的字符串的长度。</p> <h3 id="tire-树是否真的耗内存"><a href="#tire-树是否真的耗内存" class="header-anchor">#</a> Tire 树是否真的耗内存</h3> <p>存储 Tire 树时，用数组来存储一个节点的子节点的指针。</p> <p>如果字符串中包含 a~z 这 26 个字符，那么每个节点都需要存储一个长度为 26 的数组，并且每个数组元素存储一个 8 字节指针（或者 4 个字节，跟 CPU、操作系统、编译器等有关）。而且，不管一个节点有多少个子节点，我们都需要维护这个长度为 26 的数组。</p> <p>按照上面的例子，数组长度是 26，每个元素是 8 个字节，所以每个节点额外需要 26 * 8 = 208 个字节。而且这还是只包含 26 个字符的情况。</p> <p>如果字符串中，不仅包含小写字母，还包含大写字母、数字、甚至中文，那么需要的存储空间就更多了。</p> <p>Tire 树的本质是将重复的前缀组合在一起，避免重复存储。但是，在某些情况下，Tire 树并不能节省存储空间。在重复前缀并不多的情况下，Tire 不但不能节省空间，还有可能浪费更多的内存。</p> <p><strong>所以 Tire 树是比较耗内存的，是一种空间换时间的解决思路。</strong></p> <p>可以牺牲一点查询效率，将每个节点中的数组换成其他数据结构，来存储一个子节点的指针。比如有序数组、跳表、散列表、红黑树等。</p> <p>假设是有序数组，查询的时候，可以通过二分查找的方法，快速找到某个字符应该匹配的子节点的指针。往 Tire 插入一个字符串时，需要维护数组中数据的有序性，就会稍微慢点。</p> <p>Tire 的变体都可以在一定程度上解决内存的销毁问题。比如，还有<strong>缩点优化</strong>，就是对于只有一个子节点的节点，可以将此节点与子节点合并。也可以节省空间。</p> <p><img src="/reading-notes/assets/img/dataStructure-tire-eg7.e8bd235d.png" alt="tire"></p> <h2 id="tire-树与散列表、红黑树的比较"><a href="#tire-树与散列表、红黑树的比较" class="header-anchor">#</a> Tire 树与散列表、红黑树的比较</h2> <p>支持数据动态操作的数据有，散列表、红黑树、跳表等。这些数据结构也可以实现在一组字符串中查找字符串的功能。这里做个比较。</p> <p>在刚刚这个场景中，Tire 树实际上表现得并不好，它对处理的字符串有极其严苛的要求：</p> <ol><li>字符串包含的字符集不能太大。字符集太大，存储空间就会浪费很多。</li> <li>字符串的前缀重合要比较多，不然消耗也会变大很多。</li> <li>要用 Tire 树，首先需要从零开始实现一个 Tire 树，这个在工程上是简单问题复杂化了，除非必须，一般不建议这样做。</li> <li>通过指针串起来的数据块不是连续的，而 Tire 树中用到了指针，所以这对缓存并不友好，性能会打折扣。</li></ol> <p>针对在一组字符串中查找字符串的问题，在工程中，更倾向于用散列表或者红黑树。因为这两种数据结构，我们都不需要自己去实现，直接利用编程语言中提供的现成类库就行了。</p> <p><strong>Trie 树只是不适合精确匹配查找，这种问题更适合用散列表或者红黑树来解决。Trie 树比较适合的是查找前缀匹配的字符串，也就是类似开篇的关键词提示那种场景。</strong></p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>解答开篇问题，假设关键词词库是由用户的热门搜索关键词组成，先将这个词库构建成 Tire 树，当用户其中某个单词时，把这个词作为前缀子串在 Tire 树中匹配，将满足这个匹配的关键词展示在搜索提示框。这就是搜索关键词的最基本算法原理。</p> <p>Trie 树的这个应用可以扩展到更加广泛的一个应用上，就是<strong>自动输入补全</strong>，比如输入法自动补全功能、IDE 代码编辑器自动补全功能、浏览器网址输入的自动补全功能等等。</p> <p>最后总结一下，Tire 树是一种解决字符串快速匹配的数据结构。它比较耗内存，是一种空间换时间的解决问题思路。当然，在 Tire 树中做字符串匹配非常高效，时间复杂度是 O(k)，k 是要匹配的字符串的长度。</p> <p>Trie 树的优势并不在于，用它来做动态集合数据的查找，因为，这个工作完全可以用更加合适的散列表或者红黑树来替代。<strong>Trie 树最有优势的是查找前缀匹配的字符串</strong>，比如搜索引擎中的关键词提示功能这个场景，就比较适合用它来解决，也是 Trie 树比较经典的应用场景。</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/niexia/reading-notes/edit/main/docs/algo/Tire-tree/Tire-tree.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">May 29, 2022 04:13</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: yangjin.im@bytedance.com" class="contributor">
          杨金
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/reading-notes/algo/string-matching/KMP/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        /algo/string-matching/KMP/
      </a></span> <span class="next"><a href="/reading-notes/algo/greedy-algorithm/greedy-algorithm/">
        贪心算法
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!----><!----></div></div>
    <script src="/reading-notes/assets/js/app.8bb7ee81.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Layout.b9c2e4d9.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.9b90199b.js" defer></script><script src="/reading-notes/assets/js/page-Tire树.51dac316.js" defer></script><script src="/reading-notes/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.c1acbf4e.js" defer></script>
  </body>
</html>
